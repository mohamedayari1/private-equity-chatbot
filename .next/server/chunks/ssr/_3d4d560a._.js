module.exports=[9456,a=>{"use strict";var b=a.i(66680);let c=10,d="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=Array.from({length:64},(a,b)=>b),f=a=>Array(a).fill(-1),g=[...f(46),0,1,...e.slice(54,64),...f(7),...e.slice(2,28),...f(6),...e.slice(28,54),...f(5)],h=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],i=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],j=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274],k=(a,b)=>{if(b<=0||b>a.length)throw Error(`Illegal len: ${b}`);let c=0,e,f,g=[];for(;c<b;){if(e=255&a[c++],g.push(d[e>>2&63]),e=(3&e)<<4,c>=b||(e|=(f=255&a[c++])>>4&15,g.push(d[63&e]),e=(15&f)<<2,c>=b)){g.push(d[63&e]);break}e|=(f=255&a[c++])>>6&3,g.push(d[63&e]),g.push(d[63&f])}return g.join("")},l="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:setTimeout,m=(a,b,c,d)=>{let e=a[b],f=a[b+1];return e^=c[0],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[1],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[2],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[3],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[4],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[5],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[6],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[7],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[8],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[9],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[10],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[11],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[12],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[13],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[14],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[15],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[16],a[b]=f^c[17],a[b+1]=e,a},n=(a,b)=>{let c=0;for(let d=0;d<4;++d)c=c<<8|255&a[b],b=(b+1)%a.length;return{key:c,offp:b}},o=(a,b,c)=>{let d=b.length,e=c.length,f=0,g=[0,0],h;for(let c=0;c<d;c++)f=(h=n(a,f)).offp,b[c]=b[c]^h.key;for(let a=0;a<d;a+=2)g=m(g,0,b,c),b[a]=g[0],b[a+1]=g[1];for(let a=0;a<e;a+=2)g=m(g,0,b,c),c[a]=g[0],c[a+1]=g[1]},p=(a,b,c,d,e)=>{let f=j.slice(),g=f.length;if(c<4||c>31){let a=Error(`Illegal number of rounds (4-31): ${c}`);if(!1===d)return Promise.reject(a);throw a}if(16!==b.length){let a=Error(`Illegal salt length: ${b.length} != 16`);if(!1===d)return Promise.reject(a);throw a}c=1<<c>>>0;let k,p,q=0,r;Int32Array?(k=new Int32Array(h),p=new Int32Array(i)):(k=h.slice(),p=i.slice()),((a,b,c,d)=>{let e=c.length,f=d.length,g=0,h=[0,0],i;for(let a=0;a<e;a++)g=(i=n(b,g)).offp,c[a]=c[a]^i.key;g=0;for(let b=0;b<e;b+=2)g=(i=n(a,g)).offp,h[0]^=i.key,g=(i=n(a,g)).offp,h[1]^=i.key,h=m(h,0,c,d),c[b]=h[0],c[b+1]=h[1];for(let b=0;b<f;b+=2)g=(i=n(a,g)).offp,h[0]^=i.key,g=(i=n(a,g)).offp,h[1]^=i.key,h=m(h,0,c,d),d[b]=h[0],d[b+1]=h[1]})(b,a,k,p);let s=()=>{if(e&&e(q/c),q<c){let d=Date.now();for(;q<c&&(q+=1,o(a,k,p),o(b,k,p),!(Date.now()-d>100)););}else{for(q=0;q<64;q++)for(r=0;r<g>>1;r++)m(f,r<<1,k,p);let a=[];for(q=0;q<g;q++)a.push((f[q]>>24&255)>>>0),a.push((f[q]>>16&255)>>>0),a.push((f[q]>>8&255)>>>0),a.push((255&f[q])>>>0);return!1===d?Promise.resolve(a):a}if(!1===d)return new Promise(a=>l(()=>{s().then(a)}))};if(!1===d)return s();{let a;for(;;)if("u">typeof(a=s()))return a||[]}},q=(a=c)=>{if("number"!=typeof a)throw Error("Illegal arguments: "+typeof a);a<4?a=4:a>31&&(a=31);let d=[];return d.push("$2a$"),a<10&&d.push("0"),d.push(a.toString()),d.push("$"),d.push(k((0,b.randomBytes)(16),16)),d.join("")};function r(a,b,c,d){var e;let f,h,i,l,m,n;if("string"!=typeof a||"string"!=typeof b){let a=Error("Invalid string / salt: Not a string");if(!1===c)return Promise.reject(a);throw a}if("$"!==b.charAt(0)||"2"!==b.charAt(1)){let a=Error("Invalid salt version: "+b.substring(0,2));if(!1===c)return Promise.reject(a);throw a}if("$"===b.charAt(2))f="\0",h=3;else{if("a"!==(f=b.charAt(2))&&"b"!==f&&"y"!==f||"$"!==b.charAt(3)){let a=Error("Invalid salt revision: "+b.substring(2,4));if(!1===c)return Promise.reject(a);throw a}h=4}if(b.charAt(h+2)>"$"){let a=Error("Missing salt rounds");if(!1===c)return Promise.reject(a);throw a}let o=10*parseInt(b.substring(h,h+1),10)+parseInt(b.substring(h+1,h+2),10),q=b.substring(h+3,h+25);a+=f>="a"?"\0":"";let r=(e=a,i=0,l=[],m=()=>i<e.length?e.charCodeAt(i++):null,n=a=>{l.push(a)},((a,b)=>{let c,d=null;for(;null!==(c=null!==d?d:a());){if(c>=55296&&c<=57343&&null!==(d=a())&&d>=56320&&d<=57343){b((c-55296)*1024+d-56320+65536),d=null;continue}b(c)}null!==d&&b(d)})(m,a=>{var b=a;let c=null;for("number"==typeof b&&(c=b,b=()=>null);null!==c||null!==(c=b());)c<128?n(127&c):(c<2048?n(c>>6&31|192):(c<65536?n(c>>12&15|224):(n(c>>18&7|240),n(c>>12&63|128)),n(c>>6&63|128)),n(63&c|128)),c=null}),l),s=((a,b)=>{let c=a.length,d=0,e=0,f,h,i,j,k=[];for(;d<c-1&&e<b&&(f=(j=a.charCodeAt(d++))<g.length?g[j]:-1,h=(j=a.charCodeAt(d++))<g.length?g[j]:-1,!(-1==f||-1==h||(k.push(String.fromCharCode(f<<2>>>0|(48&h)>>4)),++e>=b||d>=c)||-1==(i=(j=a.charCodeAt(d++))<g.length?g[j]:-1)||(k.push(String.fromCharCode((15&h)<<4>>>0|(60&i)>>2)),++e>=b||d>=c)));)k.push(String.fromCharCode((3&i)<<6>>>0|((j=a.charCodeAt(d++))<g.length?g[j]:-1))),++e;return k.map(a=>a.charCodeAt(0))})(q,16),t=a=>{let b=[];return b.push("$2"),f>="a"&&b.push(f),b.push("$"),o<10&&b.push("0"),b.push(o.toString()),b.push("$"),b.push(k(s,s.length)),b.push(k(a,4*j.length-1)),b.join("")};return!1===c?p(r,s,o,!1,d).then(a=>t(a)):t(p(r,s,o,!0,d))}let s=(a,b=c)=>{if("number"==typeof b&&(b=q(b)),"string"!=typeof a||"string"!=typeof b)throw Error("Illegal arguments: "+typeof a+", "+typeof b);return r(a,b,!0)},t=(a,b,d)=>new Promise((e,f)=>{var g;"string"!=typeof a||"string"!=typeof b?l(()=>f(Error(`Illegal arguments: ${typeof a}, ${typeof b}`))):60!==b.length?l(()=>f(Error("Illegal hash: hash length should be 60"))):(g=b.substring(0,29),"string"==typeof a&&"number"==typeof g?((a=c)=>{if("number"!=typeof a)throw Error("illegal arguments: "+typeof a);return new Promise((b,c)=>l(()=>{try{b(q(a))}catch(a){c(a)}}))})(g).then(b=>r(a,b,!1,d)):"string"==typeof a&&"string"==typeof g?r(a,g,!1,d):Promise.reject(Error(`Illegal arguments: ${typeof a}, ${typeof g}`))).then(a=>e(a===b)).catch(a=>f(a))});a.s(["compare",()=>t,"genSaltSync",()=>q,"hashSync",()=>s])},67713,a=>{"use strict";async function b(a){return[]}async function c(){return[{id:"guest-123",email:"guest@example.com"}]}async function d({id:a}){return[]}async function e({chatId:a,timestamp:b}){return console.log("Stub: deleteMessagesByChatIdAfterTimestamp called with chatId:",a),null}async function f({chatId:a,visibility:b}){return console.log("Stub: updateChatVisiblityById called with visibility:",b),null}a.s(["createGuestUser",()=>c,"deleteMessagesByChatIdAfterTimestamp",()=>e,"getMessageById",()=>d,"getUser",()=>b,"updateChatVisiblityById",()=>f])},74944,93746,25034,64166,92455,76403,85679,13399,51152,75160,73590,80598,40366,91169,19115,14810,90455,a=>{"use strict";let b,c;var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="vercel.ai.error",z=Symbol.for(y),A=class a extends Error{constructor({name:a,message:b,cause:c}){super(b),this[g]=!0,this.name=a,this.cause=c}static isInstance(b){return a.hasMarker(b,y)}static hasMarker(a,b){let c=Symbol.for(b);return null!=a&&"object"==typeof a&&c in a&&"boolean"==typeof a[c]&&!0===a[c]}};g=z;var B=A,C="AI_APICallError",D=`vercel.ai.error.${C}`,E=Symbol.for(D),F=class extends B{constructor({message:a,url:b,requestBodyValues:c,statusCode:d,responseHeaders:e,responseBody:f,cause:g,isRetryable:i=null!=d&&(408===d||409===d||429===d||d>=500),data:j}){super({name:C,message:a,cause:g}),this[h]=!0,this.url=b,this.requestBodyValues=c,this.statusCode=d,this.responseHeaders=e,this.responseBody=f,this.isRetryable=i,this.data=j}static isInstance(a){return B.hasMarker(a,D)}};h=E;var G="AI_EmptyResponseBodyError",H=`vercel.ai.error.${G}`,I=Symbol.for(H),J=class extends B{constructor({message:a="Empty response body"}={}){super({name:G,message:a}),this[i]=!0}static isInstance(a){return B.hasMarker(a,H)}};function K(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}i=I;var L="AI_InvalidArgumentError",M=`vercel.ai.error.${L}`,N=Symbol.for(M),O=class extends B{constructor({message:a,cause:b,argument:c}){super({name:L,message:a,cause:b}),this[j]=!0,this.argument=c}static isInstance(a){return B.hasMarker(a,M)}};j=N;var P="AI_InvalidPromptError",Q=`vercel.ai.error.${P}`,R=Symbol.for(Q),S=class extends B{constructor({prompt:a,message:b,cause:c}){super({name:P,message:`Invalid prompt: ${b}`,cause:c}),this[k]=!0,this.prompt=a}static isInstance(a){return B.hasMarker(a,Q)}};k=R;var T="AI_InvalidResponseDataError",U=`vercel.ai.error.${T}`,V=Symbol.for(U),W=class extends B{constructor({data:a,message:b=`Invalid response data: ${JSON.stringify(a)}.`}){super({name:T,message:b}),this[l]=!0,this.data=a}static isInstance(a){return B.hasMarker(a,U)}};l=V;var X="AI_JSONParseError",Y=`vercel.ai.error.${X}`,Z=Symbol.for(Y),$=class extends B{constructor({text:a,cause:b}){super({name:X,message:`JSON parsing failed: Text: ${a}.
Error message: ${K(b)}`,cause:b}),this[m]=!0,this.text=a}static isInstance(a){return B.hasMarker(a,Y)}};m=Z;var _="AI_LoadAPIKeyError",aa=`vercel.ai.error.${_}`,ab=Symbol.for(aa),ac=class extends B{constructor({message:a}){super({name:_,message:a}),this[n]=!0}static isInstance(a){return B.hasMarker(a,aa)}};n=ab;var ad="AI_LoadSettingError",ae=`vercel.ai.error.${ad}`,af=Symbol.for(ae),ag=class extends B{constructor({message:a}){super({name:ad,message:a}),this[o]=!0}static isInstance(a){return B.hasMarker(a,ae)}};o=af;var ah="AI_NoContentGeneratedError",ai=`vercel.ai.error.${ah}`,aj=Symbol.for(ai),ak=class extends B{constructor({message:a="No content generated."}={}){super({name:ah,message:a}),this[p]=!0}static isInstance(a){return B.hasMarker(a,ai)}};p=aj;var al="AI_NoSuchModelError",am=`vercel.ai.error.${al}`,an=Symbol.for(am),ao=class extends B{constructor({errorName:a=al,modelId:b,modelType:c,message:d=`No such ${c}: ${b}`}){super({name:a,message:d}),this[q]=!0,this.modelId=b,this.modelType=c}static isInstance(a){return B.hasMarker(a,am)}};q=an;var ap="AI_TooManyEmbeddingValuesForCallError",aq=`vercel.ai.error.${ap}`,ar=Symbol.for(aq),as=class extends B{constructor(a){super({name:ap,message:`Too many values for a single embedding call. The ${a.provider} model "${a.modelId}" can only embed up to ${a.maxEmbeddingsPerCall} values per call, but ${a.values.length} values were provided.`}),this[r]=!0,this.provider=a.provider,this.modelId=a.modelId,this.maxEmbeddingsPerCall=a.maxEmbeddingsPerCall,this.values=a.values}static isInstance(a){return B.hasMarker(a,aq)}};r=ar;var at="AI_TypeValidationError",au=`vercel.ai.error.${at}`,av=Symbol.for(au),aw=class a extends B{constructor({value:a,cause:b}){super({name:at,message:`Type validation failed: Value: ${JSON.stringify(a)}.
Error message: ${K(b)}`,cause:b}),this[s]=!0,this.value=a}static isInstance(a){return B.hasMarker(a,au)}static wrap({value:b,cause:c}){return a.isInstance(c)&&c.value===b?c:new a({value:b,cause:c})}};s=av;var ax="AI_UnsupportedFunctionalityError",ay=`vercel.ai.error.${ax}`,az=Symbol.for(ay),aA=class extends B{constructor({functionality:a,message:b=`'${a}' functionality not supported.`}){super({name:ax,message:b}),this[t]=!0,this.functionality=a}static isInstance(a){return B.hasMarker(a,ay)}};function aB(a){return null===a||"string"==typeof a||"number"==typeof a||"boolean"==typeof a||(Array.isArray(a)?a.every(aB):"object"==typeof a&&Object.entries(a).every(([a,b])=>"string"==typeof a&&aB(b)))}function aC(a){return Array.isArray(a)&&a.every(aB)}function aD(a){return null!=a&&"object"==typeof a&&Object.entries(a).every(([a,b])=>"string"==typeof a&&aB(b))}t=az,a.s(["AISDKError",()=>B,"APICallError",()=>F,"EmptyResponseBodyError",()=>J,"InvalidArgumentError",()=>O,"InvalidPromptError",()=>S,"InvalidResponseDataError",()=>W,"JSONParseError",()=>$,"LoadAPIKeyError",()=>ac,"LoadSettingError",()=>ag,"NoContentGeneratedError",()=>ak,"NoSuchModelError",()=>ao,"TooManyEmbeddingValuesForCallError",()=>as,"TypeValidationError",()=>aw,"UnsupportedFunctionalityError",()=>aA,"getErrorMessage",()=>K,"isJSONArray",()=>aC,"isJSONObject",()=>aD],93746);class aE extends Error{constructor(a,b){super(a),this.name="ParseError",this.type=b.type,this.field=b.field,this.value=b.value,this.line=b.line}}function aF(a){}class aG extends TransformStream{constructor({onError:a,onRetry:b,onComment:c}={}){let d;super({start(e){d=function(a){if("function"==typeof a)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:b=aF,onError:c=aF,onRetry:d=aF,onComment:e}=a,f="",g=!0,h,i="",j="";function k(a){if(""===a)return void(i.length>0&&b({id:h,event:j||void 0,data:i.endsWith(`
`)?i.slice(0,-1):i}),h=void 0,i="",j="");if(a.startsWith(":")){e&&e(a.slice(a.startsWith(": ")?2:1));return}let c=a.indexOf(":");if(-1!==c){let b=a.slice(0,c),d=" "===a[c+1]?2:1;l(b,a.slice(c+d),a);return}l(a,"",a)}function l(a,b,e){switch(a){case"event":j=b;break;case"data":i=`${i}${b}
`;break;case"id":h=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?d(parseInt(b,10)):c(new aE(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:e}));break;default:c(new aE(`Unknown field "${a.length>20?`${a.slice(0,20)}\u2026`:a}"`,{type:"unknown-field",field:a,value:b,line:e}))}}return{feed:function(a){let b=g?a.replace(/^\xEF\xBB\xBF/,""):a,[c,d]=function(a){let b=[],c="",d=0;for(;d<a.length;){let e=a.indexOf("\r",d),f=a.indexOf(`
`,d),g=-1;if(-1!==e&&-1!==f?g=Math.min(e,f):-1!==e?g=e:-1!==f&&(g=f),-1===g){c=a.slice(d);break}{let c=a.slice(d,g);b.push(c),"\r"===a[(d=g+1)-1]&&a[d]===`
`&&d++}}return[b,c]}(`${f}${b}`);for(let a of c)k(a);f=d,g=!1},reset:function(a={}){f&&a.consume&&k(f),g=!0,h=void 0,i="",j="",f=""}}}({onEvent:a=>{e.enqueue(a)},onError(b){"terminate"===a?e.error(b):"function"==typeof a&&a(b)},onRetry:b,onComment:c})},transform(a){d.feed(a)}})}}a.s(["EventSourceParserStream",()=>aG],25034);let aH=Symbol("ZodOutput"),aI=Symbol("ZodInput");class aJ{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};return delete c.id,{...c,...this._map.get(a)}}return this._map.get(a)}has(a){return this._map.has(a)}}function aK(){return new aJ}let aL=aK();function aM(a){return a}function aN(a){return a}function aO(a){}function aP(a){throw Error()}function aQ(a){}function aR(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function aS(a,b="|"){return a.map(a=>bd(a)).join(b)}function aT(a,b){return"bigint"==typeof b?b.toString():b}function aU(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function aV(a){return null==a}function aW(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function aX(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}function aY(a,b,c){Object.defineProperty(a,b,{get(){{let d=c();return a[b]=d,d}},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function aZ(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function a$(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function a_(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function a0(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function a1(a){return JSON.stringify(a)}a.s(["$ZodRegistry",()=>aJ,"$input",0,aI,"$output",0,aH,"globalRegistry",0,aL,"registry",()=>aK],64166);let a2=Error.captureStackTrace?Error.captureStackTrace:(...a)=>{};function a3(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let a4=aU(()=>{if("u">typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function a5(a){if(!1===a3(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==a3(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function a6(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let a7=new Set(["string","number","symbol"]),a8=new Set(["string","number","bigint","boolean","symbol","undefined"]);function a9(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ba(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function bb(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}function bc(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function bd(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function be(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let bf={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},bg={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function bh(a,b){let c={},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&(c[a]=d.shape[a])}return ba(a,{...a._zod.def,shape:c,checks:[]})}function bi(a,b){let c={...a._zod.def.shape},d=a._zod.def;for(let a in b){if(!(a in d.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete c[a]}return ba(a,{...a._zod.def,shape:c,checks:[]})}function bj(a,b){if(!a5(b))throw Error("Invalid input to extend: expected a plain object");let c={...a._zod.def,get shape(){let c={...a._zod.def.shape,...b};return aZ(this,"shape",c),c},checks:[]};return ba(a,c)}function bk(a,b){return ba(a,{...a._zod.def,get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return aZ(this,"shape",c),c},catchall:b._zod.def.catchall,checks:[]})}function bl(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return ba(b,{...b._zod.def,shape:e,checks:[]})}function bm(a,b,c){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return ba(b,{...b._zod.def,shape:e,checks:[]})}function bn(a,b=0){for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function bo(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function bp(a){return"string"==typeof a?a:a?.message}function bq(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=bp(a.inst?._zod.def?.error?.(a))??bp(b?.error?.(a))??bp(c.customError?.(a))??bp(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function br(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function bs(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function bt(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function bu(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}class bv{constructor(...a){}}a.s(["BIGINT_FORMAT_RANGES",0,bg,"Class",()=>bv,"NUMBER_FORMAT_RANGES",0,bf,"aborted",()=>bn,"allowsEval",0,a4,"assert",()=>aQ,"assertEqual",()=>aM,"assertIs",()=>aO,"assertNever",()=>aP,"assertNotEqual",()=>aN,"assignProp",()=>aZ,"cached",()=>aU,"captureStackTrace",0,a2,"cleanEnum",()=>bu,"cleanRegex",()=>aW,"clone",()=>ba,"createTransparentProxy",()=>bc,"defineLazy",()=>aY,"esc",()=>a1,"escapeRegex",()=>a9,"extend",()=>bj,"finalizeIssue",()=>bq,"floatSafeRemainder",()=>aX,"getElementAtPath",()=>a$,"getEnumValues",()=>aR,"getLengthableOrigin",()=>bs,"getParsedType",0,a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("u">typeof Map&&a instanceof Map)return"map";if("u">typeof Set&&a instanceof Set)return"set";if("u">typeof Date&&a instanceof Date)return"date";if("u">typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},"getSizableOrigin",()=>br,"isObject",()=>a3,"isPlainObject",()=>a5,"issue",()=>bt,"joinValues",()=>aS,"jsonStringifyReplacer",()=>aT,"merge",()=>bk,"normalizeParams",()=>bb,"nullish",()=>aV,"numKeys",()=>a6,"omit",()=>bi,"optionalKeys",()=>be,"partial",()=>bl,"pick",()=>bh,"prefixIssues",()=>bo,"primitiveTypes",0,a8,"promiseAllObject",()=>a_,"propertyKeyTypes",0,a7,"randomString",()=>a0,"required",()=>bm,"stringifyPrimitive",()=>bd,"unwrapMessage",()=>bp],92455);class bw{constructor(a){this.counter=0,this.metadataRegistry=a?.metadata??aL,this.target=a?.target??"draft-2020-12",this.unrepresentable=a?.unrepresentable??"throw",this.override=a?.override??(()=>{}),this.io=a?.io??"output",this.seen=new Map}process(a,b={path:[],schemaPath:[]}){var c;let d=a._zod.def,e=this.seen.get(a);if(e)return e.count++,b.schemaPath.includes(a)&&(e.cycle=b.path),e.schema;let f={schema:{},count:1,cycle:void 0,path:b.path};this.seen.set(a,f);let g=a._zod.toJSONSchema?.();if(g)f.schema=g;else{let c={...b,schemaPath:[...b.schemaPath,a],path:b.path},e=a._zod.parent;if(e)f.ref=e,this.process(e,c),this.seen.get(e).isParent=!0;else{let b=f.schema;switch(d.type){case"string":{b.type="string";let{minimum:c,maximum:d,format:e,patterns:g,contentEncoding:h}=a._zod.bag;if("number"==typeof c&&(b.minLength=c),"number"==typeof d&&(b.maxLength=d),e&&(b.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[e]??e,""===b.format&&delete b.format),h&&(b.contentEncoding=h),g&&g.size>0){let a=[...g];1===a.length?b.pattern=a[0].source:a.length>1&&(f.schema.allOf=[...a.map(a=>({..."draft-7"===this.target?{type:"string"}:{},pattern:a.source}))])}break}case"number":{let{minimum:c,maximum:d,format:e,multipleOf:f,exclusiveMaximum:g,exclusiveMinimum:h}=a._zod.bag;"string"==typeof e&&e.includes("int")?b.type="integer":b.type="number","number"==typeof h&&(b.exclusiveMinimum=h),"number"==typeof c&&(b.minimum=c,"number"==typeof h&&(h>=c?delete b.minimum:delete b.exclusiveMinimum)),"number"==typeof g&&(b.exclusiveMaximum=g),"number"==typeof d&&(b.maximum=d,"number"==typeof g&&(g<=d?delete b.maximum:delete b.exclusiveMaximum)),"number"==typeof f&&(b.multipleOf=f);break}case"boolean":case"success":b.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":b.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":b.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:e,maximum:f}=a._zod.bag;"number"==typeof e&&(b.minItems=e),"number"==typeof f&&(b.maxItems=f),b.type="array",b.items=this.process(d.element,{...c,path:[...c.path,"items"]});break}case"object":{b.type="object",b.properties={};let a=d.shape;for(let d in a)b.properties[d]=this.process(a[d],{...c,path:[...c.path,"properties",d]});let e=new Set([...new Set(Object.keys(a))].filter(a=>{let b=d.shape[a]._zod;return"input"===this.io?void 0===b.optin:void 0===b.optout}));e.size>0&&(b.required=Array.from(e)),d.catchall?._zod.def.type==="never"?b.additionalProperties=!1:d.catchall?d.catchall&&(b.additionalProperties=this.process(d.catchall,{...c,path:[...c.path,"additionalProperties"]})):"output"===this.io&&(b.additionalProperties=!1);break}case"union":b.anyOf=d.options.map((a,b)=>this.process(a,{...c,path:[...c.path,"anyOf",b]}));break;case"intersection":{let a=this.process(d.left,{...c,path:[...c.path,"allOf",0]}),e=this.process(d.right,{...c,path:[...c.path,"allOf",1]}),f=a=>"allOf"in a&&1===Object.keys(a).length;b.allOf=[...f(a)?a.allOf:[a],...f(e)?e.allOf:[e]];break}case"tuple":{b.type="array";let e=d.items.map((a,b)=>this.process(a,{...c,path:[...c.path,"prefixItems",b]}));if("draft-2020-12"===this.target?b.prefixItems=e:b.items=e,d.rest){let a=this.process(d.rest,{...c,path:[...c.path,"items"]});"draft-2020-12"===this.target?b.items=a:b.additionalItems=a}d.rest&&(b.items=this.process(d.rest,{...c,path:[...c.path,"items"]}));let{minimum:f,maximum:g}=a._zod.bag;"number"==typeof f&&(b.minItems=f),"number"==typeof g&&(b.maxItems=g);break}case"record":b.type="object",b.propertyNames=this.process(d.keyType,{...c,path:[...c.path,"propertyNames"]}),b.additionalProperties=this.process(d.valueType,{...c,path:[...c.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let a=aR(d.entries);a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),b.enum=a;break}case"literal":{let a=[];for(let b of d.values)if(void 0===b){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof b)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else a.push(Number(b));else a.push(b);if(0===a.length);else if(1===a.length){let c=a[0];b.type=null===c?"null":typeof c,b.const=c}else a.every(a=>"number"==typeof a)&&(b.type="number"),a.every(a=>"string"==typeof a)&&(b.type="string"),a.every(a=>"boolean"==typeof a)&&(b.type="string"),a.every(a=>null===a)&&(b.type="null"),b.enum=a;break}case"file":{let c={type:"string",format:"binary",contentEncoding:"binary"},{minimum:d,maximum:e,mime:f}=a._zod.bag;void 0!==d&&(c.minLength=d),void 0!==e&&(c.maxLength=e),f?1===f.length?(c.contentMediaType=f[0],Object.assign(b,c)):b.anyOf=f.map(a=>({...c,contentMediaType:a})):Object.assign(b,c);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":b.anyOf=[this.process(d.innerType,c),{type:"null"}];break;case"nonoptional":case"promise":case"optional":this.process(d.innerType,c),f.ref=d.innerType;break;case"default":this.process(d.innerType,c),f.ref=d.innerType,b.default=JSON.parse(JSON.stringify(d.defaultValue));break;case"prefault":this.process(d.innerType,c),f.ref=d.innerType,"input"===this.io&&(b._prefault=JSON.parse(JSON.stringify(d.defaultValue)));break;case"catch":{let a;this.process(d.innerType,c),f.ref=d.innerType;try{a=d.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}b.default=a;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let c=a._zod.pattern;if(!c)throw Error("Pattern not found in template literal");b.type="string",b.pattern=c.source;break}case"pipe":{let a="input"===this.io?"transform"===d.in._zod.def.type?d.out:d.in:d.out;this.process(a,c),f.ref=a;break}case"readonly":this.process(d.innerType,c),f.ref=d.innerType,b.readOnly=!0;break;case"lazy":{let b=a._zod.innerType;this.process(b,c),f.ref=b;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")}}}let h=this.metadataRegistry.get(a);return h&&Object.assign(f.schema,h),"input"===this.io&&function a(b,c){let d=c??{seen:new Set};if(d.seen.has(b))return!1;d.seen.add(b);let e=b._zod.def;switch(e.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return a(e.element,d);case"object":for(let b in e.shape)if(a(e.shape[b],d))return!0;return!1;case"union":for(let b of e.options)if(a(b,d))return!0;return!1;case"intersection":return a(e.left,d)||a(e.right,d);case"tuple":for(let b of e.items)if(a(b,d))return!0;if(e.rest&&a(e.rest,d))return!0;return!1;case"record":case"map":return a(e.keyType,d)||a(e.valueType,d);case"set":return a(e.valueType,d);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return a(e.innerType,d);case"lazy":return a(e.getter(),d);case"transform":return!0;case"pipe":return a(e.in,d)||a(e.out,d)}throw Error(`Unknown schema type: ${e.type}`)}(a)&&(delete f.schema.examples,delete f.schema.default),"input"===this.io&&f.schema._prefault&&((c=f.schema).default??(c.default=f.schema._prefault)),delete f.schema._prefault,this.seen.get(a).schema}emit(a,b){let c={cycles:b?.cycles??"ref",reused:b?.reused??"inline",external:b?.external??void 0},d=this.seen.get(a);if(!d)throw Error("Unprocessed schema. This is a bug in Zod.");let e=a=>{let b="draft-2020-12"===this.target?"$defs":"definitions";if(c.external){let d=c.external.registry.get(a[0])?.id,e=c.external.uri??(a=>a);if(d)return{ref:e(d)};let f=a[1].defId??a[1].schema.id??`schema${this.counter++}`;return a[1].defId=f,{defId:f,ref:`${e("__shared")}#/${b}/${f}`}}if(a[1]===d)return{ref:"#"};let e=`#/${b}/`,f=a[1].schema.id??`__schema${this.counter++}`;return{defId:f,ref:e+f}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===c.cycles)for(let a of this.seen.entries()){let b=a[1];if(b.cycle)throw Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let b of this.seen.entries()){let d=b[1];if(a===b[0]){f(b);continue}if(c.external){let d=c.external.registry.get(b[0])?.id;if(a!==b[0]&&d){f(b);continue}}if(this.metadataRegistry.get(b[0])?.id||d.cycle||d.count>1&&"ref"===c.reused){f(b);continue}}let g=(a,b)=>{let c=this.seen.get(a),d=c.def??c.schema,e={...d};if(null===c.ref)return;let f=c.ref;if(c.ref=null,f){g(f,b);let a=this.seen.get(f).schema;a.$ref&&"draft-7"===b.target?(d.allOf=d.allOf??[],d.allOf.push(a)):(Object.assign(d,a),Object.assign(d,e))}c.isParent||this.override({zodSchema:a,jsonSchema:d,path:c.path??[]})};for(let a of[...this.seen.entries()].reverse())g(a[0],{target:this.target});let h={};if("draft-2020-12"===this.target?h.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?h.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),c.external?.uri){let b=c.external.registry.get(a)?.id;if(!b)throw Error("Schema is missing an `id` property");h.$id=c.external.uri(b)}Object.assign(h,d.def);let i=c.external?.defs??{};for(let a of this.seen.entries()){let b=a[1];b.def&&b.defId&&(i[b.defId]=b.def)}c.external||Object.keys(i).length>0&&("draft-2020-12"===this.target?h.$defs=i:h.definitions=i);try{return JSON.parse(JSON.stringify(h))}catch(a){throw Error("Error converting schema to JSON.")}}}function bx(a,b){if(a instanceof aJ){let c=new bw(b),d={};for(let b of a._idmap.entries()){let[a,d]=b;c.process(d)}let e={},f={registry:a,uri:b?.uri,defs:d};for(let d of a._idmap.entries()){let[a,g]=d;e[a]=c.emit(g,{...b,external:f})}return Object.keys(d).length>0&&(e.__shared={["draft-2020-12"===c.target?"$defs":"definitions"]:d}),{schemas:e}}let c=new bw(b);return c.process(a),c.emit(a,b)}a.s(["JSONSchemaGenerator",()=>bw,"toJSONSchema",()=>bx],76403);let by=Object.freeze({status:"aborted"});function bz(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let bA=Symbol("zod_brand");class bB extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let bC={};function bD(a){return a&&Object.assign(bC,a),bC}a.s(["$ZodAsyncError",()=>bB,"$brand",0,bA,"$constructor",()=>bz,"NEVER",0,by,"config",()=>bD,"globalConfig",0,bC],85679);let bE=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),Object.defineProperty(a,"message",{get:()=>JSON.stringify(b,aT,2),enumerable:!0}),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},bF=bz("$ZodError",bE),bG=bz("$ZodError",bE,{Parent:Error});function bH(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function bI(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d}function bJ(a,b){let c=b||function(a){return a.message},d={errors:[]},e=(a,b=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>e({issues:a},h.path));else if("invalid_key"===h.code)e({issues:h.issues},h.path);else if("invalid_element"===h.code)e({issues:h.issues},h.path);else{let a=[...b,...h.path];if(0===a.length){d.errors.push(c(h));continue}let e=d,i=0;for(;i<a.length;){let b=a[i],d=i===a.length-1;"string"==typeof b?(e.properties??(e.properties={}),(f=e.properties)[b]??(f[b]={errors:[]}),e=e.properties[b]):(e.items??(e.items=[]),(g=e.items)[b]??(g[b]={errors:[]}),e=e.items[b]),d&&e.errors.push(c(h)),i++}}};return e(a),d}function bK(a){let b=[];for(let c of a)"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function bL(a){let b=[];for(let c of[...a.issues].sort((a,b)=>a.path.length-b.path.length))b.push(`✖ ${c.message}`),c.path?.length&&b.push(`  → at ${bK(c.path)}`);return b.join("\n")}a.s(["$ZodError",0,bF,"$ZodRealError",0,bG,"flattenError",()=>bH,"formatError",()=>bI,"prettifyError",()=>bL,"toDotPath",()=>bK,"treeifyError",()=>bJ],13399);let bM=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new bB;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>bq(a,f,bD())));throw a2(b,e?.callee),b}return g.value},bN=bM(bG),bO=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>bq(a,f,bD())));throw a2(b,e?.callee),b}return g.value},bP=bO(bG),bQ=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new bB;return f.issues.length?{success:!1,error:new(a??bF)(f.issues.map(a=>bq(a,e,bD())))}:{success:!0,data:f.value}},bR=bQ(bG),bS=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>bq(a,e,bD())))}:{success:!0,data:f.value}},bT=bS(bG);a.s(["_parse",0,bM,"_parseAsync",0,bO,"_safeParse",0,bQ,"_safeParseAsync",0,bS,"parse",0,bN,"parseAsync",0,bP,"safeParse",0,bR,"safeParseAsync",0,bT],51152);let bU=(a,b)=>{bF.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>bI(a,b)},flatten:{value:b=>bH(a,b)},addIssue:{value:b=>a.issues.push(b)},addIssues:{value:b=>a.issues.push(...b)},isEmpty:{get:()=>0===a.issues.length}})},bV=bz("ZodError",bU),bW=bz("ZodError",bU,{Parent:Error});a.s(["ZodError",0,bV,"ZodRealError",0,bW],75160);let bX=bM(bW),bY=bO(bW),bZ=bQ(bW),b$=bS(bW);a.s(["parse",0,bX,"parseAsync",0,bY,"safeParse",0,bZ,"safeParseAsync",0,b$],73590);let b_=Symbol("Let zodToJsonSchema decide on which parser to use"),b0={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"};function b1(a,b,c,d){d?.errorMessages&&c&&(a.errorMessage={...a.errorMessage,[b]:c})}function b2(a,b,c,d,e){a[b]=c,b1(a,b,d,e)}let b3=(a,b)=>{let c=0;for(;c<a.length&&c<b.length&&a[c]===b[c];c++);return[(a.length-c).toString(),...b.slice(c)].join("/")};(d=u||(u={})).assertEqual=a=>{},d.assertIs=function(a){},d.assertNever=function(a){throw Error()},d.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},d.getValidEnumValues=a=>{let b=d.objectKeys(a).filter(b=>"number"!=typeof a[a[b]]),c={};for(let d of b)c[d]=a[d];return d.objectValues(c)},d.objectValues=a=>d.objectKeys(a).map(function(b){return a[b]}),d.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},d.find=(a,b)=>{for(let c of a)if(b(c))return c},d.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,d.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},d.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b,(v||(v={})).mergeShapes=(a,b)=>({...a,...b});let b4=u.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),b5=a=>{switch(typeof a){case"undefined":return b4.undefined;case"string":return b4.string;case"number":return Number.isNaN(a)?b4.nan:b4.number;case"boolean":return b4.boolean;case"function":return b4.function;case"bigint":return b4.bigint;case"symbol":return b4.symbol;case"object":if(Array.isArray(a))return b4.array;if(null===a)return b4.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return b4.promise;if("u">typeof Map&&a instanceof Map)return b4.map;if("u">typeof Set&&a instanceof Set)return b4.set;if("u">typeof Date&&a instanceof Date)return b4.date;return b4.object;default:return b4.unknown}};a.s(["ZodParsedType",0,b4,"getParsedType",0,b5,"objectUtil",()=>v,"util",()=>u],80598);let b6=u.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class b7 extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof b7))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,u.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}b7.create=a=>new b7(a),a.s(["ZodError",()=>b7,"ZodIssueCode",0,b6,"quotelessJson",0,a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:")],40366);let b8=(a,b)=>{let c;switch(a.code){case b6.invalid_type:c=a.received===b4.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case b6.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,u.jsonStringifyReplacer)}`;break;case b6.unrecognized_keys:c=`Unrecognized key(s) in object: ${u.joinValues(a.keys,", ")}`;break;case b6.invalid_union:c="Invalid input";break;case b6.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${u.joinValues(a.options)}`;break;case b6.invalid_enum_value:c=`Invalid enum value. Expected ${u.joinValues(a.options)}, received '${a.received}'`;break;case b6.invalid_arguments:c="Invalid function arguments";break;case b6.invalid_return_type:c="Invalid function return type";break;case b6.invalid_date:c="Invalid date";break;case b6.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:u.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case b6.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case b6.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case b6.custom:c="Invalid input";break;case b6.invalid_intersection_types:c="Intersection results could not be merged";break;case b6.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case b6.not_finite:c="Number must be finite";break;default:c=b.defaultError,u.assertNever(a)}return{message:c}};a.s(["default",0,b8],91169);let b9=b8;function ca(a){b9=a}function cb(){return b9}a.s(["getErrorMap",()=>cb,"setErrorMap",()=>ca],19115),(e=w||(w={})).errToObj=a=>"string"==typeof a?{message:a}:a||{},e.toString=a=>"string"==typeof a?a:a?.message;let cc=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function cd(a,b){let c=b9,d=cc({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,c,c===b8?void 0:b8].filter(a=>!!a)});a.common.issues.push(d)}class ce{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return cf;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return ce.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return cf;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let cf=Object.freeze({status:"aborted"}),cg=a=>({status:"dirty",value:a}),ch=a=>({status:"valid",value:a}),ci=a=>"aborted"===a.status,cj=a=>"dirty"===a.status,ck=a=>"valid"===a.status,cl=a=>"u">typeof Promise&&a instanceof Promise;a.s(["DIRTY",0,cg,"EMPTY_PATH",0,[],"INVALID",0,cf,"OK",0,ch,"ParseStatus",()=>ce,"addIssueToContext",()=>cd,"isAborted",0,ci,"isAsync",0,cl,"isDirty",0,cj,"isValid",0,ck,"makeIssue",0,cc],14810);class cm{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let cn=(a,b)=>{if(ck(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new b7(a.common.issues);return this._error=b,this._error}}};function co(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class cp{get description(){return this._def.description}_getType(a){return b5(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:b5(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new ce,ctx:{common:a.parent.common,data:a.data,parsedType:b5(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(cl(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:b5(a)},d=this._parseSync({data:a,path:c.path,parent:c});return cn(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:b5(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return ck(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>ck(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:b5(a)},d=this._parse({data:a,path:c.path,parent:c});return cn(c,await (cl(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:b6.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"u">typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new c9({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return da.create(this,this._def)}nullable(){return db.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cU.create(this)}promise(){return c8.create(this,this._def)}or(a){return cW.create([this,a],this._def)}and(a){return cZ.create(this,a,this._def)}transform(a){return new c9({...co(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new dc({...co(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:x.ZodDefault})}brand(){return new dg({typeName:x.ZodBranded,type:this,...co(this._def)})}catch(a){return new dd({...co(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:x.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return dh.create(this,a)}readonly(){return di.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let cq=/^c[^\s-]{8,}$/i,cr=/^[0-9a-z]+$/,cs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ct=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cu=/^[a-z0-9_-]{21}$/i,cv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cF=RegExp(`^${cE}$`);function cG(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}function cH(a){let b=`${cE}T${cG(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}class cI extends cp{_parse(a){var c,d,e,f;let g;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==b4.string){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.string,received:b.parsedType}),cf}let h=new ce;for(let i of this._def.checks)if("min"===i.kind)a.data.length<i.value&&(cd(g=this._getOrReturnCtx(a,g),{code:b6.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("max"===i.kind)a.data.length>i.value&&(cd(g=this._getOrReturnCtx(a,g),{code:b6.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("length"===i.kind){let b=a.data.length>i.value,c=a.data.length<i.value;(b||c)&&(g=this._getOrReturnCtx(a,g),b?cd(g,{code:b6.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&cd(g,{code:b6.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),h.dirty())}else if("email"===i.kind)cx.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"email",code:b6.invalid_string,message:i.message}),h.dirty());else if("emoji"===i.kind)b||(b=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),b.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"emoji",code:b6.invalid_string,message:i.message}),h.dirty());else if("uuid"===i.kind)ct.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"uuid",code:b6.invalid_string,message:i.message}),h.dirty());else if("nanoid"===i.kind)cu.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"nanoid",code:b6.invalid_string,message:i.message}),h.dirty());else if("cuid"===i.kind)cq.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"cuid",code:b6.invalid_string,message:i.message}),h.dirty());else if("cuid2"===i.kind)cr.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"cuid2",code:b6.invalid_string,message:i.message}),h.dirty());else if("ulid"===i.kind)cs.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"ulid",code:b6.invalid_string,message:i.message}),h.dirty());else if("url"===i.kind)try{new URL(a.data)}catch{cd(g=this._getOrReturnCtx(a,g),{validation:"url",code:b6.invalid_string,message:i.message}),h.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"regex",code:b6.invalid_string,message:i.message}),h.dirty())):"trim"===i.kind?a.data=a.data.trim():"includes"===i.kind?a.data.includes(i.value,i.position)||(cd(g=this._getOrReturnCtx(a,g),{code:b6.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),h.dirty()):"toLowerCase"===i.kind?a.data=a.data.toLowerCase():"toUpperCase"===i.kind?a.data=a.data.toUpperCase():"startsWith"===i.kind?a.data.startsWith(i.value)||(cd(g=this._getOrReturnCtx(a,g),{code:b6.invalid_string,validation:{startsWith:i.value},message:i.message}),h.dirty()):"endsWith"===i.kind?a.data.endsWith(i.value)||(cd(g=this._getOrReturnCtx(a,g),{code:b6.invalid_string,validation:{endsWith:i.value},message:i.message}),h.dirty()):"datetime"===i.kind?cH(i).test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{code:b6.invalid_string,validation:"datetime",message:i.message}),h.dirty()):"date"===i.kind?cF.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{code:b6.invalid_string,validation:"date",message:i.message}),h.dirty()):"time"===i.kind?RegExp(`^${cG(i)}$`).test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{code:b6.invalid_string,validation:"time",message:i.message}),h.dirty()):"duration"===i.kind?cw.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"duration",code:b6.invalid_string,message:i.message}),h.dirty()):"ip"===i.kind?(c=a.data,!(("v4"===(d=i.version)||!d)&&cy.test(c)||("v6"===d||!d)&&cA.test(c))&&1&&(cd(g=this._getOrReturnCtx(a,g),{validation:"ip",code:b6.invalid_string,message:i.message}),h.dirty())):"jwt"===i.kind?!function(a,b){if(!cv.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,i.alg)&&(cd(g=this._getOrReturnCtx(a,g),{validation:"jwt",code:b6.invalid_string,message:i.message}),h.dirty()):"cidr"===i.kind?(e=a.data,!(("v4"===(f=i.version)||!f)&&cz.test(e)||("v6"===f||!f)&&cB.test(e))&&1&&(cd(g=this._getOrReturnCtx(a,g),{validation:"cidr",code:b6.invalid_string,message:i.message}),h.dirty())):"base64"===i.kind?cC.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"base64",code:b6.invalid_string,message:i.message}),h.dirty()):"base64url"===i.kind?cD.test(a.data)||(cd(g=this._getOrReturnCtx(a,g),{validation:"base64url",code:b6.invalid_string,message:i.message}),h.dirty()):u.assertNever(i);return{status:h.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:b6.invalid_string,...w.errToObj(c)})}_addCheck(a){return new cI({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...w.errToObj(a)})}url(a){return this._addCheck({kind:"url",...w.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...w.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...w.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...w.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...w.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...w.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...w.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...w.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...w.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...w.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...w.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...w.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...w.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...w.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...w.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...w.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...w.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...w.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...w.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...w.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...w.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...w.errToObj(b)})}nonempty(a){return this.min(1,w.errToObj(a))}trim(){return new cI({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cI({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cI({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}cI.create=a=>new cI({checks:[],typeName:x.ZodString,coerce:a?.coerce??!1,...co(a)});class cJ extends cp{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==b4.number){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.number,received:b.parsedType}),cf}let c=new ce;for(let d of this._def.checks)"int"===d.kind?u.isInteger(a.data)||(cd(b=this._getOrReturnCtx(a,b),{code:b6.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(cd(b=this._getOrReturnCtx(a,b),{code:b6.not_finite,message:d.message}),c.dirty()):u.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,w.toString(b))}gt(a,b){return this.setLimit("min",a,!1,w.toString(b))}lte(a,b){return this.setLimit("max",a,!0,w.toString(b))}lt(a,b){return this.setLimit("max",a,!1,w.toString(b))}setLimit(a,b,c,d){return new cJ({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:w.toString(d)}]})}_addCheck(a){return new cJ({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:w.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:w.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:w.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:w.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:w.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:w.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:w.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:w.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:w.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&u.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}cJ.create=a=>new cJ({checks:[],typeName:x.ZodNumber,coerce:a?.coerce||!1,...co(a)});class cK extends cp{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==b4.bigint)return this._getInvalidInput(a);let c=new ce;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):u.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.bigint,received:b.parsedType}),cf}gte(a,b){return this.setLimit("min",a,!0,w.toString(b))}gt(a,b){return this.setLimit("min",a,!1,w.toString(b))}lte(a,b){return this.setLimit("max",a,!0,w.toString(b))}lt(a,b){return this.setLimit("max",a,!1,w.toString(b))}setLimit(a,b,c,d){return new cK({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:w.toString(d)}]})}_addCheck(a){return new cK({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:w.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:w.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:w.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:w.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:w.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}cK.create=a=>new cK({checks:[],typeName:x.ZodBigInt,coerce:a?.coerce??!1,...co(a)});class cL extends cp{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==b4.boolean){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.boolean,received:b.parsedType}),cf}return ch(a.data)}}cL.create=a=>new cL({typeName:x.ZodBoolean,coerce:a?.coerce||!1,...co(a)});class cM extends cp{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==b4.date){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.date,received:b.parsedType}),cf}if(Number.isNaN(a.data.getTime()))return cd(this._getOrReturnCtx(a),{code:b6.invalid_date}),cf;let c=new ce;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(cd(b=this._getOrReturnCtx(a,b),{code:b6.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):u.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new cM({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:w.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:w.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}cM.create=a=>new cM({checks:[],coerce:a?.coerce||!1,typeName:x.ZodDate,...co(a)});class cN extends cp{_parse(a){if(this._getType(a)!==b4.symbol){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.symbol,received:b.parsedType}),cf}return ch(a.data)}}cN.create=a=>new cN({typeName:x.ZodSymbol,...co(a)});class cO extends cp{_parse(a){if(this._getType(a)!==b4.undefined){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.undefined,received:b.parsedType}),cf}return ch(a.data)}}cO.create=a=>new cO({typeName:x.ZodUndefined,...co(a)});class cP extends cp{_parse(a){if(this._getType(a)!==b4.null){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.null,received:b.parsedType}),cf}return ch(a.data)}}cP.create=a=>new cP({typeName:x.ZodNull,...co(a)});class cQ extends cp{constructor(){super(...arguments),this._any=!0}_parse(a){return ch(a.data)}}cQ.create=a=>new cQ({typeName:x.ZodAny,...co(a)});class cR extends cp{constructor(){super(...arguments),this._unknown=!0}_parse(a){return ch(a.data)}}cR.create=a=>new cR({typeName:x.ZodUnknown,...co(a)});class cS extends cp{_parse(a){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.never,received:b.parsedType}),cf}}cS.create=a=>new cS({typeName:x.ZodNever,...co(a)});class cT extends cp{_parse(a){if(this._getType(a)!==b4.undefined){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.void,received:b.parsedType}),cf}return ch(a.data)}}cT.create=a=>new cT({typeName:x.ZodVoid,...co(a)});class cU extends cp{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==b4.array)return cd(b,{code:b6.invalid_type,expected:b4.array,received:b.parsedType}),cf;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(cd(b,{code:a?b6.too_big:b6.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(cd(b,{code:b6.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(cd(b,{code:b6.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new cm(b,a,b.path,c)))).then(a=>ce.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new cm(b,a,b.path,c)));return ce.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new cU({...this._def,minLength:{value:a,message:w.toString(b)}})}max(a,b){return new cU({...this._def,maxLength:{value:a,message:w.toString(b)}})}length(a,b){return new cU({...this._def,exactLength:{value:a,message:w.toString(b)}})}nonempty(a){return this.min(1,a)}}cU.create=(a,b)=>new cU({type:a,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...co(b)});class cV extends cp{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=u.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==b4.object){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.object,received:b.parsedType}),cf}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof cS&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new cm(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof cS){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(cd(c,{code:b6.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new cm(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>ce.mergeObjectSync(b,a)):ce.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return w.errToObj,new cV({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:w.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new cV({...this._def,unknownKeys:"strip"})}passthrough(){return new cV({...this._def,unknownKeys:"passthrough"})}extend(a){return new cV({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new cV({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:x.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new cV({...this._def,catchall:a})}pick(a){let b={};for(let c of u.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new cV({...this._def,shape:()=>b})}omit(a){let b={};for(let c of u.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new cV({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof cV){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=da.create(a(e))}return new cV({...b._def,shape:()=>c})}if(b instanceof cU)return new cU({...b._def,type:a(b.element)});if(b instanceof da)return da.create(a(b.unwrap()));if(b instanceof db)return db.create(a(b.unwrap()));if(b instanceof c$)return c$.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of u.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new cV({...this._def,shape:()=>b})}required(a){let b={};for(let c of u.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof da;)a=a._def.innerType;b[c]=a}return new cV({...this._def,shape:()=>b})}keyof(){return c5(u.objectKeys(this.shape))}}cV.create=(a,b)=>new cV({shape:()=>a,unknownKeys:"strip",catchall:cS.create(),typeName:x.ZodObject,...co(b)}),cV.strictCreate=(a,b)=>new cV({shape:()=>a,unknownKeys:"strict",catchall:cS.create(),typeName:x.ZodObject,...co(b)}),cV.lazycreate=(a,b)=>new cV({shape:a,unknownKeys:"strip",catchall:cS.create(),typeName:x.ZodObject,...co(b)});class cW extends cp{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new b7(a.ctx.common.issues));return cd(b,{code:b6.invalid_union,unionErrors:c}),cf});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new b7(a));return cd(b,{code:b6.invalid_union,unionErrors:e}),cf}}get options(){return this._def.options}}cW.create=(a,b)=>new cW({options:a,typeName:x.ZodUnion,...co(b)});let cX=a=>{if(a instanceof c3)return cX(a.schema);if(a instanceof c9)return cX(a.innerType());if(a instanceof c4)return[a.value];if(a instanceof c6)return a.options;if(a instanceof c7)return u.objectValues(a.enum);else if(a instanceof dc)return cX(a._def.innerType);else if(a instanceof cO)return[void 0];else if(a instanceof cP)return[null];else if(a instanceof da)return[void 0,...cX(a.unwrap())];else if(a instanceof db)return[null,...cX(a.unwrap())];else if(a instanceof dg)return cX(a.unwrap());else if(a instanceof di)return cX(a.unwrap());else if(a instanceof dd)return cX(a._def.innerType);else return[]};class cY extends cp{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==b4.object)return cd(b,{code:b6.invalid_type,expected:b4.object,received:b.parsedType}),cf;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(cd(b,{code:b6.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),cf)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=cX(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new cY({typeName:x.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...co(c)})}}class cZ extends cp{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if(ci(a)||ci(d))return cf;let e=function a(b,c){let d=b5(b),e=b5(c);if(b===c)return{valid:!0,data:b};if(d===b4.object&&e===b4.object){let d=u.objectKeys(c),e=u.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===b4.array&&e===b4.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===b4.date&&e===b4.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?((cj(a)||cj(d))&&b.dirty(),{status:b.value,value:e.data}):(cd(c,{code:b6.invalid_intersection_types}),cf)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}cZ.create=(a,b,c)=>new cZ({left:a,right:b,typeName:x.ZodIntersection,...co(c)});class c$ extends cp{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==b4.array)return cd(c,{code:b6.invalid_type,expected:b4.array,received:c.parsedType}),cf;if(c.data.length<this._def.items.length)return cd(c,{code:b6.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cf;!this._def.rest&&c.data.length>this._def.items.length&&(cd(c,{code:b6.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new cm(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>ce.mergeArray(b,a)):ce.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new c$({...this._def,rest:a})}}c$.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new c$({items:a,typeName:x.ZodTuple,rest:null,...co(b)})};class c_ extends cp{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==b4.object)return cd(c,{code:b6.invalid_type,expected:b4.object,received:c.parsedType}),cf;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new cm(c,a,c.path,a)),value:f._parse(new cm(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?ce.mergeObjectAsync(b,d):ce.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new c_(b instanceof cp?{keyType:a,valueType:b,typeName:x.ZodRecord,...co(c)}:{keyType:cI.create(),valueType:a,typeName:x.ZodRecord,...co(b)})}}class c0 extends cp{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==b4.map)return cd(c,{code:b6.invalid_type,expected:b4.map,received:c.parsedType}),cf;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new cm(c,a,c.path,[f,"key"])),value:e._parse(new cm(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return cf;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return cf;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}c0.create=(a,b,c)=>new c0({valueType:b,keyType:a,typeName:x.ZodMap,...co(c)});class c1 extends cp{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==b4.set)return cd(c,{code:b6.invalid_type,expected:b4.set,received:c.parsedType}),cf;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(cd(c,{code:b6.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(cd(c,{code:b6.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return cf;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new cm(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new c1({...this._def,minSize:{value:a,message:w.toString(b)}})}max(a,b){return new c1({...this._def,maxSize:{value:a,message:w.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}c1.create=(a,b)=>new c1({valueType:a,minSize:null,maxSize:null,typeName:x.ZodSet,...co(b)});class c2 extends cp{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==b4.function)return cd(b,{code:b6.invalid_type,expected:b4.function,received:b.parsedType}),cf;function c(a,c){return cc({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,b9,b8].filter(a=>!!a),issueData:{code:b6.invalid_arguments,argumentsError:c}})}function d(a,c){return cc({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,b9,b8].filter(a=>!!a),issueData:{code:b6.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof c8){let a=this;return ch(async function(...b){let g=new b7([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return ch(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new b7([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new b7([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new c2({...this._def,args:c$.create(a).rest(cR.create())})}returns(a){return new c2({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new c2({args:a||c$.create([]).rest(cR.create()),returns:b||cR.create(),typeName:x.ZodFunction,...co(c)})}}class c3 extends cp{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}c3.create=(a,b)=>new c3({getter:a,typeName:x.ZodLazy,...co(b)});class c4 extends cp{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return cd(b,{received:b.data,code:b6.invalid_literal,expected:this._def.value}),cf}return{status:"valid",value:a.data}}get value(){return this._def.value}}function c5(a,b){return new c6({values:a,typeName:x.ZodEnum,...co(b)})}c4.create=(a,b)=>new c4({value:a,typeName:x.ZodLiteral,...co(b)});class c6 extends cp{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return cd(b,{expected:u.joinValues(c),received:b.parsedType,code:b6.invalid_type}),cf}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return cd(b,{received:b.data,code:b6.invalid_enum_value,options:c}),cf}return ch(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return c6.create(a,{...this._def,...b})}exclude(a,b=this._def){return c6.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}c6.create=c5;class c7 extends cp{_parse(a){let b=u.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==b4.string&&c.parsedType!==b4.number){let a=u.objectValues(b);return cd(c,{expected:u.joinValues(a),received:c.parsedType,code:b6.invalid_type}),cf}if(this._cache||(this._cache=new Set(u.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=u.objectValues(b);return cd(c,{received:c.data,code:b6.invalid_enum_value,options:a}),cf}return ch(a.data)}get enum(){return this._def.values}}c7.create=(a,b)=>new c7({values:a,typeName:x.ZodNativeEnum,...co(b)});class c8 extends cp{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==b4.promise&&!1===b.common.async?(cd(b,{code:b6.invalid_type,expected:b4.promise,received:b.parsedType}),cf):ch((b.parsedType===b4.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}c8.create=(a,b)=>new c8({type:a,typeName:x.ZodPromise,...co(b)});class c9 extends cp{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{cd(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return cf;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?cf:"dirty"===d.status||"dirty"===b.value?cg(d.value):d});{if("aborted"===b.value)return cf;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?cf:"dirty"===d.status||"dirty"===b.value?cg(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?cf:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?cf:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>ck(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):cf);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!ck(a))return cf;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}u.assertNever(d)}}c9.create=(a,b,c)=>new c9({schema:a,typeName:x.ZodEffects,effect:b,...co(c)}),c9.createWithPreprocess=(a,b,c)=>new c9({schema:b,effect:{type:"preprocess",transform:a},typeName:x.ZodEffects,...co(c)});class da extends cp{_parse(a){return this._getType(a)===b4.undefined?ch(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}da.create=(a,b)=>new da({innerType:a,typeName:x.ZodOptional,...co(b)});class db extends cp{_parse(a){return this._getType(a)===b4.null?ch(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}db.create=(a,b)=>new db({innerType:a,typeName:x.ZodNullable,...co(b)});class dc extends cp{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===b4.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}dc.create=(a,b)=>new dc({innerType:a,typeName:x.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...co(b)});class dd extends cp{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return cl(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new b7(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new b7(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}dd.create=(a,b)=>new dd({innerType:a,typeName:x.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...co(b)});class de extends cp{_parse(a){if(this._getType(a)!==b4.nan){let b=this._getOrReturnCtx(a);return cd(b,{code:b6.invalid_type,expected:b4.nan,received:b.parsedType}),cf}return{status:"valid",value:a.data}}}de.create=a=>new de({typeName:x.ZodNaN,...co(a)});let df=Symbol("zod_brand");class dg extends cp{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class dh extends cp{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?cf:"dirty"===a.status?(b.dirty(),cg(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?cf:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new dh({in:a,out:b,typeName:x.ZodPipeline})}}class di extends cp{_parse(a){let b=this._def.innerType._parse(a),c=a=>(ck(a)&&(a.value=Object.freeze(a.value)),a);return cl(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function dj(a,b){let c="function"==typeof a?a(b):"string"==typeof a?{message:a}:a;return"string"==typeof c?{message:c}:c}function dk(a,b={},c){return a?cQ.create().superRefine((d,e)=>{let f=a(d);if(f instanceof Promise)return f.then(a=>{if(!a){let a=dj(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}});if(!f){let a=dj(b,d),f=a.fatal??c??!0;e.addIssue({code:"custom",...a,fatal:f})}}):cQ.create()}di.create=(a,b)=>new di({innerType:a,typeName:x.ZodReadonly,...co(b)});let dl={object:cV.lazycreate};(f=x||(x={})).ZodString="ZodString",f.ZodNumber="ZodNumber",f.ZodNaN="ZodNaN",f.ZodBigInt="ZodBigInt",f.ZodBoolean="ZodBoolean",f.ZodDate="ZodDate",f.ZodSymbol="ZodSymbol",f.ZodUndefined="ZodUndefined",f.ZodNull="ZodNull",f.ZodAny="ZodAny",f.ZodUnknown="ZodUnknown",f.ZodNever="ZodNever",f.ZodVoid="ZodVoid",f.ZodArray="ZodArray",f.ZodObject="ZodObject",f.ZodUnion="ZodUnion",f.ZodDiscriminatedUnion="ZodDiscriminatedUnion",f.ZodIntersection="ZodIntersection",f.ZodTuple="ZodTuple",f.ZodRecord="ZodRecord",f.ZodMap="ZodMap",f.ZodSet="ZodSet",f.ZodFunction="ZodFunction",f.ZodLazy="ZodLazy",f.ZodLiteral="ZodLiteral",f.ZodEnum="ZodEnum",f.ZodEffects="ZodEffects",f.ZodNativeEnum="ZodNativeEnum",f.ZodOptional="ZodOptional",f.ZodNullable="ZodNullable",f.ZodDefault="ZodDefault",f.ZodCatch="ZodCatch",f.ZodPromise="ZodPromise",f.ZodBranded="ZodBranded",f.ZodPipeline="ZodPipeline",f.ZodReadonly="ZodReadonly";let dm=(a,b={message:`Input not instance of ${a.name}`})=>dk(b=>b instanceof a,b),dn=cI.create,dp=cJ.create,dq=de.create,dr=cK.create,ds=cL.create,dt=cM.create,du=cN.create,dv=cO.create,dw=cP.create,dx=cQ.create,dy=cR.create,dz=cS.create,dA=cT.create,dB=cU.create,dC=cV.create,dD=cV.strictCreate,dE=cW.create,dF=cY.create,dG=cZ.create,dH=c$.create,dI=c_.create,dJ=c0.create,dK=c1.create,dL=c2.create,dM=c3.create,dN=c4.create,dO=c6.create,dP=c7.create,dQ=c8.create,dR=c9.create,dS=da.create,dT=db.create,dU=c9.createWithPreprocess,dV=dh.create,dW=()=>dn().optional(),dX=()=>dp().optional(),dY=()=>ds().optional();function dZ(a){if("openAi"!==a.target)return{};let b=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===a.$refStrategy?b3(b,a.currentPath):b.join("/")}}function d$(a,b){return ej(a.type._def,b)}a.s(["BRAND",0,df,"NEVER",0,cf,"Schema",()=>cp,"ZodAny",()=>cQ,"ZodArray",()=>cU,"ZodBigInt",()=>cK,"ZodBoolean",()=>cL,"ZodBranded",()=>dg,"ZodCatch",()=>dd,"ZodDate",()=>cM,"ZodDefault",()=>dc,"ZodDiscriminatedUnion",()=>cY,"ZodEffects",()=>c9,"ZodEnum",()=>c6,"ZodFirstPartyTypeKind",()=>x,"ZodFunction",()=>c2,"ZodIntersection",()=>cZ,"ZodLazy",()=>c3,"ZodLiteral",()=>c4,"ZodMap",()=>c0,"ZodNaN",()=>de,"ZodNativeEnum",()=>c7,"ZodNever",()=>cS,"ZodNull",()=>cP,"ZodNullable",()=>db,"ZodNumber",()=>cJ,"ZodObject",()=>cV,"ZodOptional",()=>da,"ZodPipeline",()=>dh,"ZodPromise",()=>c8,"ZodReadonly",()=>di,"ZodRecord",()=>c_,"ZodSchema",()=>cp,"ZodSet",()=>c1,"ZodString",()=>cI,"ZodSymbol",()=>cN,"ZodTransformer",()=>c9,"ZodTuple",()=>c$,"ZodType",()=>cp,"ZodUndefined",()=>cO,"ZodUnion",()=>cW,"ZodUnknown",()=>cR,"ZodVoid",()=>cT,"any",()=>dx,"array",()=>dB,"bigint",()=>dr,"boolean",()=>ds,"coerce",0,{string:a=>cI.create({...a,coerce:!0}),number:a=>cJ.create({...a,coerce:!0}),boolean:a=>cL.create({...a,coerce:!0}),bigint:a=>cK.create({...a,coerce:!0}),date:a=>cM.create({...a,coerce:!0})},"custom",()=>dk,"date",()=>dt,"datetimeRegex",()=>cH,"discriminatedUnion",()=>dF,"effect",()=>dR,"enum",()=>dO,"function",()=>dL,"instanceof",()=>dm,"intersection",()=>dG,"late",0,dl,"lazy",()=>dM,"literal",()=>dN,"map",()=>dJ,"nan",()=>dq,"nativeEnum",()=>dP,"never",()=>dz,"null",()=>dw,"nullable",()=>dT,"number",()=>dp,"object",()=>dC,"oboolean",()=>dY,"onumber",()=>dX,"optional",()=>dS,"ostring",()=>dW,"pipeline",()=>dV,"preprocess",()=>dU,"promise",()=>dQ,"record",()=>dI,"set",()=>dK,"strictObject",()=>dD,"string",()=>dn,"symbol",()=>du,"transformer",()=>dR,"tuple",()=>dH,"undefined",()=>dv,"union",()=>dE,"unknown",()=>dy,"void",()=>dA],90455);let d_=/^[cC][^\s-]{8,}$/,d0=/^[0-9a-z]+$/,d1=/^[0-9A-HJKMNP-TV-Z]{26}$/,d2=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,d3=()=>(void 0===c&&(c=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),c),d4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,d5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,d7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,d8=/^[a-zA-Z0-9_-]{21}$/,d9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function ea(a,b){let c={type:"string"};if(a.checks)for(let d of a.checks)switch(d.kind){case"min":b2(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b);break;case"max":b2(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"email":switch(b.emailStrategy){case"format:email":ed(c,"email",d.message,b);break;case"format:idn-email":ed(c,"idn-email",d.message,b);break;case"pattern:zod":ee(c,d2,d.message,b)}break;case"url":ed(c,"uri",d.message,b);break;case"uuid":ed(c,"uuid",d.message,b);break;case"regex":ee(c,d.regex,d.message,b);break;case"cuid":ee(c,d_,d.message,b);break;case"cuid2":ee(c,d0,d.message,b);break;case"startsWith":ee(c,RegExp(`^${eb(d.value,b)}`),d.message,b);break;case"endsWith":ee(c,RegExp(`${eb(d.value,b)}$`),d.message,b);break;case"datetime":ed(c,"date-time",d.message,b);break;case"date":ed(c,"date",d.message,b);break;case"time":ed(c,"time",d.message,b);break;case"duration":ed(c,"duration",d.message,b);break;case"length":b2(c,"minLength","number"==typeof c.minLength?Math.max(c.minLength,d.value):d.value,d.message,b),b2(c,"maxLength","number"==typeof c.maxLength?Math.min(c.maxLength,d.value):d.value,d.message,b);break;case"includes":ee(c,RegExp(eb(d.value,b)),d.message,b);break;case"ip":"v6"!==d.version&&ed(c,"ipv4",d.message,b),"v4"!==d.version&&ed(c,"ipv6",d.message,b);break;case"base64url":ee(c,d7,d.message,b);break;case"jwt":ee(c,d9,d.message,b);break;case"cidr":"v6"!==d.version&&ee(c,d4,d.message,b),"v4"!==d.version&&ee(c,d5,d.message,b);break;case"emoji":ee(c,d3(),d.message,b);break;case"ulid":ee(c,d1,d.message,b);break;case"base64":switch(b.base64Strategy){case"format:binary":ed(c,"binary",d.message,b);break;case"contentEncoding:base64":b2(c,"contentEncoding","base64",d.message,b);break;case"pattern:zod":ee(c,d6,d.message,b)}break;case"nanoid":ee(c,d8,d.message,b)}return c}function eb(a,b){return"escape"===b.patternStrategy?function(a){let b="";for(let c=0;c<a.length;c++)ec.has(a[c])||(b+="\\"),b+=a[c];return b}(a):a}let ec=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ed(a,b,c,d){a.format||a.anyOf?.some(a=>a.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&d.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.anyOf.push({format:b,...c&&d.errorMessages&&{errorMessage:{format:c}}})):b2(a,"format",b,c,d)}function ee(a,b,c,d){a.pattern||a.allOf?.some(a=>a.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&d.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,0===Object.keys(a.errorMessage).length&&delete a.errorMessage)),a.allOf.push({pattern:ef(b,d),...c&&d.errorMessages&&{errorMessage:{pattern:c}}})):b2(a,"pattern",ef(b,d),c,d)}function ef(a,b){if(!b.applyRegexFlags||!a.flags)return a.source;let c={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},d=c.i?a.source.toLowerCase():a.source,e="",f=!1,g=!1,h=!1;for(let a=0;a<d.length;a++){if(f){e+=d[a],f=!1;continue}if(c.i){if(g){if(d[a].match(/[a-z]/)){h?(e+=d[a],e+=`${d[a-2]}-${d[a]}`.toUpperCase(),h=!1):"-"===d[a+1]&&d[a+2]?.match(/[a-z]/)?(e+=d[a],h=!0):e+=`${d[a]}${d[a].toUpperCase()}`;continue}}else if(d[a].match(/[a-z]/)){e+=`[${d[a]}${d[a].toUpperCase()}]`;continue}}if(c.m){if("^"===d[a]){e+=`(^|(?<=[\r
]))`;continue}else if("$"===d[a]){e+=`($|(?=[\r
]))`;continue}}if(c.s&&"."===d[a]){e+=g?`${d[a]}\r
`:`[${d[a]}\r
]`;continue}e+=d[a],"\\"===d[a]?f=!0:g&&"]"===d[a]?g=!1:g||"["!==d[a]||(g=!0)}try{new RegExp(e)}catch{return console.warn(`Could not convert regex pattern at ${b.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return e}function eg(a,b){if("openAi"===b.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===b.target&&a.keyType?._def.typeName===x.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((c,d)=>({...c,[d]:ej(a.valueType._def,{...b,currentPath:[...b.currentPath,"properties",d]})??dZ(b)}),{}),additionalProperties:b.rejectedAdditionalProperties};let c={type:"object",additionalProperties:ej(a.valueType._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]})??b.allowedAdditionalProperties};if("openApi3"===b.target)return c;if(a.keyType?._def.typeName===x.ZodString&&a.keyType._def.checks?.length){let{type:d,...e}=ea(a.keyType._def,b);return{...c,propertyNames:e}}if(a.keyType?._def.typeName===x.ZodEnum)return{...c,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===x.ZodBranded&&a.keyType._def.type._def.typeName===x.ZodString&&a.keyType._def.type._def.checks?.length){let{type:d,...e}=d$(a.keyType._def,b);return{...c,propertyNames:e}}return c}let eh={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},ei=(a,b)=>{let c=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((a,c)=>ej(a._def,{...b,currentPath:[...b.currentPath,"anyOf",`${c}`]})).filter(a=>!!a&&(!b.strictUnions||"object"==typeof a&&Object.keys(a).length>0));return c.length?{anyOf:c}:void 0};function ej(a,b,c=!1){let d=b.seen.get(a);if(b.override){let e=b.override?.(a,b,d,c);if(e!==b_)return e}if(d&&!c){let a=ek(d,b);if(void 0!==a)return a}let e={def:a,path:b.currentPath,jsonSchema:void 0};b.seen.set(a,e);let f=((a,b,c)=>{switch(b){case x.ZodString:return ea(a,c);case x.ZodNumber:let d={type:"number"};if(!a.checks)return d;for(let b of a.checks)switch(b.kind){case"int":d.type="integer",b1(d,"type",b.message,c);break;case"min":"jsonSchema7"===c.target?b.inclusive?b2(d,"minimum",b.value,b.message,c):b2(d,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(d.exclusiveMinimum=!0),b2(d,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?b2(d,"maximum",b.value,b.message,c):b2(d,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(d.exclusiveMaximum=!0),b2(d,"maximum",b.value,b.message,c));break;case"multipleOf":b2(d,"multipleOf",b.value,b.message,c)}return d;case x.ZodObject:return function(a,b){let c="openAi"===b.target,d={type:"object",properties:{}},e=[],f=a.shape();for(let a in f){let g=f[a];if(void 0===g||void 0===g._def)continue;let h=function(a){try{return a.isOptional()}catch{return!0}}(g);h&&c&&("ZodOptional"===g._def.typeName&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),h=!1);let i=ej(g._def,{...b,currentPath:[...b.currentPath,"properties",a],propertyPath:[...b.currentPath,"properties",a]});void 0!==i&&(d.properties[a]=i,h||e.push(a))}e.length&&(d.required=e);let g=function(a,b){if("ZodNever"!==a.catchall._def.typeName)return ej(a.catchall._def,{...b,currentPath:[...b.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return b.allowedAdditionalProperties;case"strict":return b.rejectedAdditionalProperties;case"strip":return"strict"===b.removeAdditionalStrategy?b.allowedAdditionalProperties:b.rejectedAdditionalProperties}}(a,b);return void 0!==g&&(d.additionalProperties=g),d}(a,c);case x.ZodBigInt:let e={type:"integer",format:"int64"};if(!a.checks)return e;for(let b of a.checks)switch(b.kind){case"min":"jsonSchema7"===c.target?b.inclusive?b2(e,"minimum",b.value,b.message,c):b2(e,"exclusiveMinimum",b.value,b.message,c):(b.inclusive||(e.exclusiveMinimum=!0),b2(e,"minimum",b.value,b.message,c));break;case"max":"jsonSchema7"===c.target?b.inclusive?b2(e,"maximum",b.value,b.message,c):b2(e,"exclusiveMaximum",b.value,b.message,c):(b.inclusive||(e.exclusiveMaximum=!0),b2(e,"maximum",b.value,b.message,c));break;case"multipleOf":b2(e,"multipleOf",b.value,b.message,c)}return e;case x.ZodBoolean:return{type:"boolean"};case x.ZodDate:return function a(b,c,d){let e=d??c.dateStrategy;if(Array.isArray(e))return{anyOf:e.map((d,e)=>a(b,c,d))};switch(e){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var f=b,g=c;let h={type:"integer",format:"unix-time"};if("openApi3"===g.target)return h;for(let a of f.checks)switch(a.kind){case"min":b2(h,"minimum",a.value,a.message,g);break;case"max":b2(h,"maximum",a.value,a.message,g)}return h}}(a,c);case x.ZodUndefined:return{not:dZ(c)};case x.ZodNull:return"openApi3"===c.target?{enum:["null"],nullable:!0}:{type:"null"};case x.ZodArray:let f;return f={type:"array"},a.type?._def&&a.type?._def?.typeName!==x.ZodAny&&(f.items=ej(a.type._def,{...c,currentPath:[...c.currentPath,"items"]})),a.minLength&&b2(f,"minItems",a.minLength.value,a.minLength.message,c),a.maxLength&&b2(f,"maxItems",a.maxLength.value,a.maxLength.message,c),a.exactLength&&(b2(f,"minItems",a.exactLength.value,a.exactLength.message,c),b2(f,"maxItems",a.exactLength.value,a.exactLength.message,c)),f;case x.ZodUnion:case x.ZodDiscriminatedUnion:if("openApi3"===c.target)return ei(a,c);let g=a.options instanceof Map?Array.from(a.options.values()):a.options;if(g.every(a=>a._def.typeName in eh&&(!a._def.checks||!a._def.checks.length))){let a=g.reduce((a,b)=>{let c=eh[b._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:a.length>1?a:a[0]}}if(g.every(a=>"ZodLiteral"===a._def.typeName&&!a.description)){let a=g.reduce((a,b)=>{let c=typeof b._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(null===b._def.value)return[...a,"null"];default:return a}},[]);if(a.length===g.length){let b=a.filter((a,b,c)=>c.indexOf(a)===b);return{type:b.length>1?b:b[0],enum:g.reduce((a,b)=>a.includes(b._def.value)?a:[...a,b._def.value],[])}}}else if(g.every(a=>"ZodEnum"===a._def.typeName))return{type:"string",enum:g.reduce((a,b)=>[...a,...b._def.values.filter(b=>!a.includes(b))],[])};return ei(a,c);case x.ZodIntersection:let h,i,j;return h=[ej(a.left._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),ej(a.right._def,{...c,currentPath:[...c.currentPath,"allOf","1"]})].filter(a=>!!a),i="jsonSchema2019-09"===c.target?{unevaluatedProperties:!1}:void 0,j=[],h.forEach(a=>{if((!("type"in a)||"string"!==a.type)&&"allOf"in a)j.push(...a.allOf),void 0===a.unevaluatedProperties&&(i=void 0);else{let b=a;if("additionalProperties"in a&&!1===a.additionalProperties){let{additionalProperties:c,...d}=a;b=d}else i=void 0;j.push(b)}}),j.length?{allOf:j,...i}:void 0;case x.ZodTuple:return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((a,b)=>ej(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[]),additionalItems:ej(a.rest._def,{...c,currentPath:[...c.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((a,b)=>ej(a._def,{...c,currentPath:[...c.currentPath,"items",`${b}`]})).reduce((a,b)=>void 0===b?a:[...a,b],[])};case x.ZodRecord:return eg(a,c);case x.ZodLiteral:let k;return"bigint"!=(k=typeof a.value)&&"number"!==k&&"boolean"!==k&&"string"!==k?{type:Array.isArray(a.value)?"array":"object"}:"openApi3"===c.target?{type:"bigint"===k?"integer":k,enum:[a.value]}:{type:"bigint"===k?"integer":k,const:a.value};case x.ZodEnum:return{type:"string",enum:Array.from(a.values)};case x.ZodNativeEnum:let l,m,n;return l=a.values,{type:1===(n=Array.from(new Set((m=Object.keys(a.values).filter(a=>"number"!=typeof l[l[a]]).map(a=>l[a])).map(a=>typeof a)))).length?"string"===n[0]?"string":"number":["string","number"],enum:m};case x.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return"openApi3"===c.target?{type:eh[a.innerType._def.typeName],nullable:!0}:{type:[eh[a.innerType._def.typeName],"null"]};if("openApi3"===c.target){let b=ej(a.innerType._def,{...c,currentPath:[...c.currentPath]});return b&&"$ref"in b?{allOf:[b],nullable:!0}:b&&{...b,nullable:!0}}let o=ej(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","0"]});return o&&{anyOf:[o,{type:"null"}]};case x.ZodOptional:if(c.currentPath.toString()===c.propertyPath?.toString())return ej(a.innerType._def,c);let p=ej(a.innerType._def,{...c,currentPath:[...c.currentPath,"anyOf","1"]});return p?{anyOf:[{not:dZ(c)},p]}:dZ(c);case x.ZodMap:if("record"===c.mapStrategy)return eg(a,c);return{type:"array",maxItems:125,items:{type:"array",items:[ej(a.keyType._def,{...c,currentPath:[...c.currentPath,"items","items","0"]})||dZ(c),ej(a.valueType._def,{...c,currentPath:[...c.currentPath,"items","items","1"]})||dZ(c)],minItems:2,maxItems:2}};case x.ZodSet:let q;return q={type:"array",uniqueItems:!0,items:ej(a.valueType._def,{...c,currentPath:[...c.currentPath,"items"]})},a.minSize&&b2(q,"minItems",a.minSize.value,a.minSize.message,c),a.maxSize&&b2(q,"maxItems",a.maxSize.value,a.maxSize.message,c),q;case x.ZodLazy:return()=>a.getter()._def;case x.ZodPromise:return ej(a.type._def,c);case x.ZodNaN:case x.ZodNever:return"openAi"===c.target?void 0:{not:dZ({...c,currentPath:[...c.currentPath,"not"]})};case x.ZodEffects:return"input"===c.effectStrategy?ej(a.schema._def,c):dZ(c);case x.ZodAny:case x.ZodUnknown:return dZ(c);case x.ZodDefault:return{...ej(a.innerType._def,c),default:a.defaultValue()};case x.ZodBranded:return d$(a,c);case x.ZodReadonly:case x.ZodCatch:return ej(a.innerType._def,c);case x.ZodPipeline:if("input"===c.pipeStrategy)return ej(a.in._def,c);if("output"===c.pipeStrategy)return ej(a.out._def,c);let r=ej(a.in._def,{...c,currentPath:[...c.currentPath,"allOf","0"]}),s=ej(a.out._def,{...c,currentPath:[...c.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,s].filter(a=>void 0!==a)};case x.ZodFunction:case x.ZodVoid:case x.ZodSymbol:default:return}})(a,a.typeName,b),g="function"==typeof f?ej(f(),b):f;if(g&&el(a,b,g),b.postProcess){let c=b.postProcess(g,a,b);return e.jsonSchema=g,c}return e.jsonSchema=g,g}let ek=(a,b)=>{switch(b.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:b3(b.currentPath,a.path)};case"none":case"seen":if(a.path.length<b.currentPath.length&&a.path.every((a,c)=>b.currentPath[c]===a))return console.warn(`Recursive reference detected at ${b.currentPath.join("/")}! Defaulting to any`),dZ(b);return"seen"===b.$refStrategy?dZ(b):void 0}},el=(a,b,c)=>(a.description&&(c.description=a.description,b.markdownDescription&&(c.markdownDescription=a.description)),c);function em(...a){return a.reduce((a,b)=>({...a,...null!=b?b:{}}),{})}async function en(a){return null==a?Promise.resolve():new Promise(b=>setTimeout(b,a))}function eo(a){return Object.fromEntries([...a.headers])}var ep=({prefix:a,size:b=16,alphabet:c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:d="-"}={})=>{let e=()=>{let a=c.length,d=Array(b);for(let e=0;e<b;e++)d[e]=c[Math.random()*a|0];return d.join("")};if(null==a)return e;if(c.includes(d))throw new O({argument:"separator",message:`The separator "${d}" must not be part of the alphabet "${c}".`});return()=>`${a}${d}${e()}`},eq=ep();function er(a){return null==a?"unknown error":"string"==typeof a?a:a instanceof Error?a.message:JSON.stringify(a)}function es(a){return a instanceof Error&&("AbortError"===a.name||"TimeoutError"===a.name)}var et=["fetch failed","failed to fetch"];function eu({error:a,url:b,requestBodyValues:c}){if(es(a))return a;if(a instanceof TypeError&&et.includes(a.message.toLowerCase())){let d=a.cause;if(null!=d)return new F({message:`Cannot connect to API: ${d.message}`,cause:d,url:b,requestBodyValues:c,isRetryable:!0})}return a}function ev(a){return Object.fromEntries(Object.entries(a).filter(([a,b])=>null!=b))}var ew=()=>globalThis.fetch,ex=async({url:a,headers:b={},successfulResponseHandler:c,failedResponseHandler:d,abortSignal:e,fetch:f=ew()})=>{try{let g=await f(a,{method:"GET",headers:ev(b),signal:e}),h=eo(g);if(!g.ok){let b;try{b=await d({response:g,url:a,requestBodyValues:{}})}catch(b){if(es(b)||F.isInstance(b))throw b;throw new F({message:"Failed to process error response",cause:b,statusCode:g.status,url:a,responseHeaders:h,requestBodyValues:{}})}throw b.value}try{return await c({response:g,url:a,requestBodyValues:{}})}catch(b){if(b instanceof Error&&(es(b)||F.isInstance(b)))throw b;throw new F({message:"Failed to process successful response",cause:b,statusCode:g.status,url:a,responseHeaders:h,requestBodyValues:{}})}}catch(b){throw eu({error:b,url:a,requestBodyValues:{}})}};function ey({mediaType:a,url:b,supportedUrls:c}){return b=b.toLowerCase(),a=a.toLowerCase(),Object.entries(c).map(([a,b])=>{let c=a.toLowerCase();return"*"===c||"*/*"===c?{mediaTypePrefix:"",regexes:b}:{mediaTypePrefix:c.replace(/\*/,""),regexes:b}}).filter(({mediaTypePrefix:b})=>a.startsWith(b)).flatMap(({regexes:a})=>a).some(a=>a.test(b))}function ez({apiKey:a,environmentVariableName:b,apiKeyParameterName:c="apiKey",description:d}){if("string"==typeof a)return a;if(null!=a)throw new ac({message:`${d} API key must be a string.`});if("u"<typeof process)throw new ac({message:`${d} API key is missing. Pass it using the '${c}' parameter. Environment variables is not supported in this environment.`});if(null==(a=process.env[b]))throw new ac({message:`${d} API key is missing. Pass it using the '${c}' parameter or the ${b} environment variable.`});if("string"!=typeof a)throw new ac({message:`${d} API key must be a string. The value of the ${b} environment variable is not a string.`});return a}function eA({settingValue:a,environmentVariableName:b}){return"string"==typeof a?a:null!=a||"u"<typeof process?void 0:null!=(a=process.env[b])&&"string"==typeof a?a:void 0}var eB=/"__proto__"\s*:/,eC=/"constructor"\s*:/;function eD(a){let{stackTraceLimit:b}=Error;Error.stackTraceLimit=0;try{let b;return b=JSON.parse(a),null===b||"object"!=typeof b||!1===eB.test(a)&&!1===eC.test(a)?b:function(a){let b=[a];for(;b.length;){let a=b;for(let c of(b=[],a)){if(Object.prototype.hasOwnProperty.call(c,"__proto__")||Object.prototype.hasOwnProperty.call(c,"constructor")&&Object.prototype.hasOwnProperty.call(c.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let a in c){let d=c[a];d&&"object"==typeof d&&b.push(d)}}}return a}(b)}finally{Error.stackTraceLimit=b}}var eE=Symbol.for("vercel.ai.validator");async function eF({value:a,schema:b}){let c=await eG({value:a,schema:b});if(!c.success)throw aw.wrap({value:a,cause:c.error});return c.value}async function eG({value:a,schema:b}){var c;let d="object"==typeof b&&null!==b&&eE in b&&!0===b[eE]&&"validate"in b?b:(c=b,{[eE]:!0,validate:async a=>{let b=await c["~standard"].validate(a);return null==b.issues?{success:!0,value:b.value}:{success:!1,error:new aw({value:a,cause:b.issues})}}});try{if(null==d.validate)return{success:!0,value:a,rawValue:a};let b=await d.validate(a);if(b.success)return{success:!0,value:b.value,rawValue:a};return{success:!1,error:aw.wrap({value:a,cause:b.error}),rawValue:a}}catch(b){return{success:!1,error:aw.wrap({value:a,cause:b}),rawValue:a}}}async function eH({text:a,schema:b}){try{let c=eD(a);if(null==b)return c;return eF({value:c,schema:b})}catch(b){if($.isInstance(b)||aw.isInstance(b))throw b;throw new $({text:a,cause:b})}}async function eI({text:a,schema:b}){try{let c=eD(a);if(null==b)return{success:!0,value:c,rawValue:c};return await eG({value:c,schema:b})}catch(b){return{success:!1,error:$.isInstance(b)?b:new $({text:a,cause:b}),rawValue:void 0}}}function eJ(a){try{return eD(a),!0}catch(a){return!1}}function eK({stream:a,schema:b}){return a.pipeThrough(new TextDecoderStream).pipeThrough(new aG).pipeThrough(new TransformStream({async transform({data:a},c){"[DONE]"!==a&&c.enqueue(await eI({text:a,schema:b}))}}))}async function eL({provider:a,providerOptions:b,schema:c}){if((null==b?void 0:b[a])==null)return;let d=await eG({value:b[a],schema:c});if(!d.success)throw new O({argument:"providerOptions",message:`invalid ${a} provider options`,cause:d.error});return d.value}var eM=()=>globalThis.fetch,eN=async({url:a,headers:b,body:c,failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g})=>eO({url:a,headers:{"Content-Type":"application/json",...b},body:{content:JSON.stringify(c),values:c},failedResponseHandler:d,successfulResponseHandler:e,abortSignal:f,fetch:g}),eO=async({url:a,headers:b={},body:c,successfulResponseHandler:d,failedResponseHandler:e,abortSignal:f,fetch:g=eM()})=>{try{let h=await g(a,{method:"POST",headers:ev(b),body:c.content,signal:f}),i=eo(h);if(!h.ok){let b;try{b=await e({response:h,url:a,requestBodyValues:c.values})}catch(b){if(es(b)||F.isInstance(b))throw b;throw new F({message:"Failed to process error response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:c.values})}throw b.value}try{return await d({response:h,url:a,requestBodyValues:c.values})}catch(b){if(b instanceof Error&&(es(b)||F.isInstance(b)))throw b;throw new F({message:"Failed to process successful response",cause:b,statusCode:h.status,url:a,responseHeaders:i,requestBodyValues:c.values})}}catch(b){throw eu({error:b,url:a,requestBodyValues:c.values})}};function eP(a){return a}async function eQ(a){return"function"==typeof a&&(a=a()),Promise.resolve(a)}var eR=({errorSchema:a,errorToMessage:b,isRetryable:c})=>async({response:d,url:e,requestBodyValues:f})=>{let g=await d.text(),h=eo(d);if(""===g.trim())return{responseHeaders:h,value:new F({message:d.statusText,url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,isRetryable:null==c?void 0:c(d)})};try{let i=await eH({text:g,schema:a});return{responseHeaders:h,value:new F({message:b(i),url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,data:i,isRetryable:null==c?void 0:c(d,i)})}}catch(a){return{responseHeaders:h,value:new F({message:d.statusText,url:e,requestBodyValues:f,statusCode:d.status,responseHeaders:h,responseBody:g,isRetryable:null==c?void 0:c(d)})}}},eS=a=>async({response:b})=>{let c=eo(b);if(null==b.body)throw new J({});return{responseHeaders:c,value:eK({stream:b.body,schema:a})}},eT=a=>async({response:b,url:c,requestBodyValues:d})=>{let e=await b.text(),f=await eI({text:e,schema:a}),g=eo(b);if(!f.success)throw new F({message:"Invalid JSON response",cause:f.error,statusCode:b.status,responseHeaders:g,responseBody:e,url:c,requestBodyValues:d});return{responseHeaders:g,value:f.value,rawValue:f.rawValue}},eU=Symbol.for("vercel.ai.schema");function eV(a,{validate:b}={}){return{[eU]:!0,_type:void 0,[eE]:!0,jsonSchema:a,validate:b}}function eW(a){return null==a?eV({properties:{},additionalProperties:!1}):"object"==typeof a&&null!==a&&eU in a&&!0===a[eU]&&"jsonSchema"in a&&"validate"in a?a:function(a,b){return"_zod"in a?eV(bx(a,{target:"draft-7",io:"output",reused:"inline"}),{validate:b=>{let c=bZ(a,b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}}):eV(((a,b)=>{let c,d,e=(d=void 0!==(c="string"==typeof b?{...b0,name:b}:{...b0,...b}).name?[...c.basePath,c.definitionPath,c.name]:c.basePath,{...c,flags:{hasReferencedOpenAiAnyType:!1},currentPath:d,propertyPath:void 0,seen:new Map(Object.entries(c.definitions).map(([a,b])=>[b._def,{def:b._def,path:[...c.basePath,c.definitionPath,a],jsonSchema:void 0}]))}),f="object"==typeof b&&b.definitions?Object.entries(b.definitions).reduce((a,[b,c])=>({...a,[b]:ej(c._def,{...e,currentPath:[...e.basePath,e.definitionPath,b]},!0)??dZ(e)}),{}):void 0,g="string"==typeof b?b:b?.nameStrategy==="title"?void 0:b?.name,h=ej(a._def,void 0===g?e:{...e,currentPath:[...e.basePath,e.definitionPath,g]},!1)??dZ(e),i="object"==typeof b&&void 0!==b.name&&"title"===b.nameStrategy?b.name:void 0;void 0!==i&&(h.title=i),e.flags.hasReferencedOpenAiAnyType&&(f||(f={}),f[e.openAiAnyTypeName]||(f[e.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===e.$refStrategy?"1":[...e.basePath,e.definitionPath,e.openAiAnyTypeName].join("/")}}));let j=void 0===g?f?{...h,[e.definitionPath]:f}:h:{$ref:[..."relative"===e.$refStrategy?[]:e.basePath,e.definitionPath,g].join("/"),[e.definitionPath]:{...f,[g]:h}};return"jsonSchema7"===e.target?j.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===e.target||"openAi"===e.target)&&(j.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===e.target&&("anyOf"in j||"oneOf"in j||"allOf"in j||"type"in j&&Array.isArray(j.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),j})(a,{$refStrategy:"none",target:"jsonSchema7"}),{validate:b=>{let c=a.safeParse(b);return c.success?{success:!0,value:c.data}:{success:!1,error:c.error}}})}(a)}var{btoa:eX,atob:eY}=globalThis;function eZ(a){let b=eY(a.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(b,a=>a.codePointAt(0))}function e$(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCodePoint(a[c]);return eX(b)}function e_(a){return a instanceof Uint8Array?e$(a):a}function e0(a){return null==a?void 0:a.replace(/\/$/,"")}a.s(["asSchema",()=>eW,"combineHeaders",()=>em,"convertBase64ToUint8Array",()=>eZ,"convertToBase64",()=>e_,"convertUint8ArrayToBase64",()=>e$,"createEventSourceResponseHandler",()=>eS,"createIdGenerator",()=>ep,"createJsonErrorResponseHandler",()=>eR,"createJsonResponseHandler",()=>eT,"delay",()=>en,"generateId",()=>eq,"getErrorMessage",()=>er,"getFromApi",()=>ex,"isAbortError",()=>es,"isParsableJson",()=>eJ,"isUrlSupported",()=>ey,"jsonSchema",()=>eV,"loadApiKey",()=>ez,"loadOptionalSetting",()=>eA,"parseJsonEventStream",()=>eK,"parseProviderOptions",()=>eL,"postJsonToApi",()=>eN,"resolve",()=>eQ,"safeParseJSON",()=>eI,"safeValidateTypes",()=>eG,"tool",()=>eP,"validateTypes",()=>eF,"withoutTrailingSlash",()=>e0],74944)},36812,a=>{"use strict";let b;var c,d=a.i(74944),e=a.i(9456);let f=!!(process.env.PLAYWRIGHT_TEST_BASE_URL||process.env.PLAYWRIGHT||process.env.CI_PLAYWRIGHT),g=(c=(0,d.generateId)(),b=(0,e.genSaltSync)(10),(0,e.hashSync)(c,b));a.s(["DUMMY_PASSWORD",0,g,"isTestEnvironment",0,f],36812)}];

//# sourceMappingURL=_3d4d560a._.js.map