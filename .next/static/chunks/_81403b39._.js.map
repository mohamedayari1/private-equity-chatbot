{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/app/%28chat%29/hardcodedConversation.ts"],"sourcesContent":["import { ChatMessage } from \"@/lib/types\";\n\nexport const DEMO_MESSAGES: ChatMessage[] = [];\n\n// Hardcoded conversation data\n// export const DEMO_MESSAGES: ChatMessage[] = [\n//   {\n//     id: \"1\",\n//     role: \"user\",\n//     parts: [\n//       { type: \"text\", text: \"Hello! Can you help me with React development?\" },\n//     ],\n//   },\n//   {\n//     id: \"2\",\n//     role: \"assistant\",\n//     parts: [\n//       {\n//         type: \"text\",\n//         text: \"Of course! I'd be happy to help you with React development. What specific questions do you have? Are you looking to learn the basics, work with hooks, or tackle a particular problem?\",\n//       },\n//     ],\n//   },\n//   // {\n//   //   id: \"3\",\n//   //   role: \"user\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"I'm trying to understand useState and useEffect hooks. Can you explain the difference?\",\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"4\",\n//   //   role: \"assistant\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: 'Great question! Let me break down the key differences:\\n\\n**useState**:\\n- Manages component state (data that can change)\\n- Returns current state and a function to update it\\n- Triggers re-render when state changes\\n\\n**useEffect**:\\n- Handles side effects (API calls, subscriptions, DOM manipulation)\\n- Runs after component renders\\n- Can run on mount, update, or cleanup\\n\\n**Example:**\\n```jsx\\nconst [count, setCount] = useState(0); // State\\n\\nuseEffect(() => {\\n  document.title = `Count: ${count}`; // Side effect\\n}, [count]);\\n```\\n\\nThink of useState as \"what data do I need to track?\" and useEffect as \"what should happen when things change?\"',\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"5\",\n//   //   role: \"user\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"That makes sense! How about custom hooks? When should I create one?\",\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"6\",\n//   //   role: \"assistant\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"Excellent follow-up! Custom hooks are perfect when you want to:\\n\\n**1. Reuse Logic**\\n- Extract common functionality used across multiple components\\n- Avoid code duplication\\n\\n**2. Complex State Management**\\n- Combine multiple useState/useEffect calls\\n- Manage related state together\\n\\n**3. API Integration**\\n- Handle data fetching, loading states, and errors\\n- Centralize API logic\\n\\n**Example:**\\n```jsx\\nfunction useCounter(initialValue = 0) {\\n  const [count, setCount] = useState(initialValue);\\n  \\n  const increment = () => setCount(c => c + 1);\\n  const decrement = () => setCount(c => c - 1);\\n  const reset = () => setCount(initialValue);\\n  \\n  return { count, increment, decrement, reset };\\n}\\n```\\n\\n**When to create one:**\\n- Logic is used in 2+ components\\n- Logic is complex enough to warrant separation\\n- You want to make your components cleaner\\n\\nStart simple and extract hooks as your app grows!\",\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"7\",\n//   //   role: \"user\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"Thanks! One more question - what's the best way to handle forms in React?\",\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"8\",\n//   //   role: \"assistant\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"Great question! Here are the main approaches for handling forms in React:\\n\\n**1. Controlled Components (Most Common)**\\n```jsx\\nfunction LoginForm() {\\n  const [formData, setFormData] = useState({\\n    email: '',\\n    password: ''\\n  });\\n  \\n  const handleChange = (e) => {\\n    setFormData({\\n      ...formData,\\n      [e.target.name]: e.target.value\\n    });\\n  };\\n  \\n  return (\\n    <form onSubmit={handleSubmit}>\\n      <input\\n        name=\\\"email\\\"\\n        value={formData.email}\\n        onChange={handleChange}\\n      />\\n    </form>\\n  );\\n}\\n```\\n\\n**2. Form Libraries (For Complex Forms)**\\n- **React Hook Form**: Lightweight, great performance\\n- **Formik**: Feature-rich, good for complex validation\\n- **Final Form**: Uncontrolled, subscription-based\\n\\n**3. Best Practices**\\n- Use controlled components for simple forms\\n- Add proper validation and error handling\\n- Consider accessibility (labels, ARIA)\\n- Handle loading states during submission\\n\\n**Pro tip**: Start with controlled components, then move to libraries if you need advanced features!\",\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"9\",\n//   //   role: \"user\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"Perfect! This has been really helpful. I think I have a good foundation now.\",\n//   //     },\n//   //   ],\n//   // },\n//   // {\n//   //   id: \"10\",\n//   //   role: \"assistant\",\n//   //   parts: [\n//   //     {\n//   //       type: \"text\",\n//   //       text: \"You're very welcome! ÔøΩÔøΩ\\n\\nYou've covered some of the most important React concepts:\\n- State management with hooks\\n- Side effects and lifecycle\\n- Custom hooks for reusability\\n- Form handling patterns\\n\\nYou're well on your way to building great React applications! Remember:\\n- Practice is key - build small projects to reinforce concepts\\n- The React docs are excellent for reference\\n- Don't hesitate to ask more questions as you build\\n\\nHappy coding! üöÄ\",\n//   //     },\n//   //   ],\n//   // },\n// ];\n"],"names":[],"mappings":";;;AAEO,MAAM,gBAA+B,EAAE,EAE9C,8BAA8B;CAC9B,gDAAgD;CAChD,MAAM;CACN,eAAe;CACf,oBAAoB;CACpB,eAAe;CACf,kFAAkF;CAClF,SAAS;CACT,OAAO;CACP,MAAM;CACN,eAAe;CACf,yBAAyB;CACzB,eAAe;CACf,UAAU;CACV,wBAAwB;CACxB,0MAA0M;CAC1M,WAAW;CACX,SAAS;CACT,OAAO;CACP,SAAS;CACT,kBAAkB;CAClB,uBAAuB;CACvB,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,6GAA6G;CAC7G,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,kBAAkB;CAClB,4BAA4B;CAC5B,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,sqBAAsqB;CACtqB,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,kBAAkB;CAClB,uBAAuB;CACvB,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,0FAA0F;CAC1F,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,kBAAkB;CAClB,4BAA4B;CAC5B,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,q7BAAq7B;CACr7B,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,kBAAkB;CAClB,uBAAuB;CACvB,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,gGAAgG;CAChG,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,kBAAkB;CAClB,4BAA4B;CAC5B,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,ukCAAukC;CACvkC,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,kBAAkB;CAClB,uBAAuB;CACvB,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,mGAAmG;CACnG,cAAc;CACd,YAAY;CACZ,UAAU;CACV,SAAS;CACT,mBAAmB;CACnB,4BAA4B;CAC5B,kBAAkB;CAClB,aAAa;CACb,2BAA2B;CAC3B,oeAAoe;CACpe,cAAc;CACd,YAAY;CACZ,UAAU;CACV,KAAK","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/sidebar-toggle.tsx"],"sourcesContent":["import type { ComponentProps } from \"react\";\n\nimport { type SidebarTrigger, useSidebar } from \"@/components/ui/sidebar\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { SidebarLeftIcon } from \"../icons\";\n\nexport function SidebarToggle({\n  className,\n}: ComponentProps<typeof SidebarTrigger>) {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>\n        <Button\n          data-testid=\"sidebar-toggle-button\"\n          onClick={toggleSidebar}\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"h-8 w-8 p-0\"\n        >\n          <SidebarLeftIcon size={16} />\n        </Button>\n      </TooltipTrigger>\n      <TooltipContent align=\"start\">Toggle Sidebar</TooltipContent>\n    </Tooltip>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAMA;AACA;;;;;;;AAEO,SAAS,cAAc,EAC5B,SAAS,EAC6B;;IACtC,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,aAAU,AAAD;IAEnC,qBACE,6MAAC,+HAAA,CAAA,UAAO;;0BACN,6MAAC,+HAAA,CAAA,iBAAc;gBAAC,OAAO;0BACrB,cAAA,6MAAC,8HAAA,CAAA,SAAM;oBACL,eAAY;oBACZ,SAAS;oBACT,SAAQ;oBACR,MAAK;oBACL,WAAU;8BAEV,cAAA,6MAAC,uHAAA,CAAA,kBAAe;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAG3B,6MAAC,+HAAA,CAAA,iBAAc;gBAAC,OAAM;0BAAQ;;;;;;;;;;;;AAGpC;GArBgB;;QAGY,+HAAA,CAAA,aAAU;;;KAHtB","debugId":null}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/chat-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { useWindowSize } from \"usehooks-ts\";\n\nimport { PlusIcon } from \"@/components/icons\";\nimport { Button } from \"@/components/ui/button\";\nimport { useSidebar } from \"@/components/ui/sidebar\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { useRouter } from \"next/navigation\";\nimport { SidebarToggle } from \"./sidebar-toggle\";\n\nexport default function ChatHeader() {\n  const router = useRouter();\n  const { open } = useSidebar();\n  const { width: windowWidth } = useWindowSize();\n\n  return (\n    <header className=\"flex sticky top-0 bg-background py-1.5 items-center px-2 md:px-2 gap-2\">\n      <SidebarToggle />\n\n      {(!open || windowWidth < 768) && (\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"outline\"\n              className=\"order-2 md:order-1 md:px-2 px-2 md:h-fit ml-auto md:ml-0\"\n              onClick={() => {\n                router.push(\"/\");\n                router.refresh();\n              }}\n            >\n              <PlusIcon />\n              <span className=\"md:sr-only\">New Chat</span>\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>New Chat</TooltipContent>\n        </Tooltip>\n      )}\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AAKA;AACA;;;AAbA;;;;;;;;AAee,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,aAAU,AAAD;IAC1B,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,CAAA,GAAA,kJAAA,CAAA,gBAAa,AAAD;IAE3C,qBACE,6MAAC;QAAO,WAAU;;0BAChB,6MAAC,4JAAA,CAAA,gBAAa;;;;;YAEb,CAAC,CAAC,QAAQ,cAAc,GAAG,mBAC1B,6MAAC,+HAAA,CAAA,UAAO;;kCACN,6MAAC,+HAAA,CAAA,iBAAc;wBAAC,OAAO;kCACrB,cAAA,6MAAC,8HAAA,CAAA,SAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS;gCACP,OAAO,IAAI,CAAC;gCACZ,OAAO,OAAO;4BAChB;;8CAEA,6MAAC,uHAAA,CAAA,WAAQ;;;;;8CACT,6MAAC;oCAAK,WAAU;8CAAa;;;;;;;;;;;;;;;;;kCAGjC,6MAAC,+HAAA,CAAA,iBAAc;kCAAC;;;;;;;;;;;;;;;;;;AAK1B;GA7BwB;;QACP,qIAAA,CAAA,YAAS;QACP,+HAAA,CAAA,aAAU;QACI,kJAAA,CAAA,gBAAa;;;KAHtB","debugId":null}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<'textarea'>\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6KAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6MAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/suggested-actions.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\nimport { Button } from \"../ui/button\";\n\nexport default function SuggestedActions() {\n  const suggestedActions = [\n    {\n      title: \"Get my birth chart\",\n      label: \"based on date, time, and place of birth\",\n      action: \"Generate a birth chart and explain my planetary placements\",\n    },\n    {\n      title: \"Horoscope forecast\",\n      label: \"for today, this week, or this month\",\n      action:\n        \"Give me a daily, weekly, or monthly horoscope based on current transits\",\n    },\n    {\n      title: \"Check relationship compatibility\",\n      label: \"based on two birth dates\",\n      action: \"Compare two birth charts and analyze compatibility\",\n    },\n    {\n      title: \"Ask a personal astrology question\",\n      label: \"like why I feel anxious or when to switch jobs\",\n      action:\n        \"Analyze my current astrological transits and answer a specific question\",\n    },\n  ];\n\n  return (\n    <div\n      data-testid=\"suggested-actions\"\n      className=\"grid sm:grid-cols-2 gap-2 w-full\"\n    >\n      {suggestedActions.map((suggestedAction, index) => (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: 20 }}\n          transition={{ delay: 0.05 * index }}\n          key={`suggested-action-${suggestedAction.title}-${index}`}\n          className={index > 1 ? \"hidden sm:block\" : \"block\"}\n        >\n          <Button\n            variant={\"ghost\"}\n            onClick={() => console.log(suggestedAction)}\n            className=\"text-left border rounded-xl px-4 py-3.5 text-sm flex-1 gap-1 sm:flex-col w-full h-auto justify-start items-start\"\n          >\n          <span className=\"font-medium\">{suggestedAction.title}</span>\n          <span className=\"text-muted-foreground\">{suggestedAction.label}</span>\n          </Button>\n\n        </motion.div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,mBAAmB;QACvB;YACE,OAAO;YACP,OAAO;YACP,QAAQ;QACV;QACA;YACE,OAAO;YACP,OAAO;YACP,QACE;QACJ;QACA;YACE,OAAO;YACP,OAAO;YACP,QAAQ;QACV;QACA;YACE,OAAO;YACP,OAAO;YACP,QACE;QACJ;KACD;IAED,qBACE,6MAAC;QACC,eAAY;QACZ,WAAU;kBAET,iBAAiB,GAAG,CAAC,CAAC,iBAAiB,sBACtC,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC1B,YAAY;oBAAE,OAAO,OAAO;gBAAM;gBAElC,WAAW,QAAQ,IAAI,oBAAoB;0BAE3C,cAAA,6MAAC,8HAAA,CAAA,SAAM;oBACL,SAAS;oBACT,SAAS,IAAM,QAAQ,GAAG,CAAC;oBAC3B,WAAU;;sCAEZ,6MAAC;4BAAK,WAAU;sCAAe,gBAAgB,KAAK;;;;;;sCACpD,6MAAC;4BAAK,WAAU;sCAAyB,gBAAgB,KAAK;;;;;;;;;;;;eATzD,CAAC,iBAAiB,EAAE,gBAAgB,KAAK,CAAC,CAAC,EAAE,OAAO;;;;;;;;;;AAgBnE;KArDwB","debugId":null}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/input.tsx"],"sourcesContent":["\"use client\";\n\nimport cx from \"classnames\";\nimport { useState } from \"react\";\nimport { ArrowUpIcon } from \"../icons\";\nimport { Button } from \"../ui/button\";\nimport { Textarea } from \"../ui/textarea\";\nimport { ChatMessage } from \"@/lib/types\";\nimport SuggestedActions from \"./suggested-actions\";\n\ninterface ChatInputProps {\n  onSend: (input: string) => void;\n  messages: ChatMessage[];\n}\n\nexport default function ChatInput({ onSend, messages }: ChatInputProps) {\n  const [input, setInput] = useState(\"\");\n\n  const handleInput = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setInput(e.target.value);\n  };\n\n  const handleSend = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (input.trim()) {\n      onSend(input.trim());\n      setInput(\"\");\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      if (input.trim()) {\n        onSend(input.trim());\n        setInput(\"\");\n      }\n    }\n  };\n\n  return (\n    <form onSubmit={handleSend} className=\"relative w-full flex flex-col gap-4\">\n      {messages.length === 0 && <SuggestedActions />}\n      <Textarea\n        className={cx(\n          \"min-h-[24px] max-h-[calc(75dvh)] overflow-hidden resize-none rounded-2xl !text-base bg-muted pb-10\"\n        )}\n        placeholder=\"Send a message...\"\n        value={input}\n        onChange={handleInput}\n        onKeyDown={handleKeyDown}\n      />\n\n      <SendButton disabled={!input.trim()} />\n    </form>\n  );\n}\n\nfunction SendButton({ disabled }: { disabled?: boolean }) {\n  return (\n    <div className=\"absolute bottom-0 right-0 p-2\">\n      <Button\n        type=\"submit\"\n        disabled={disabled}\n        className=\"rounded-full p-1.5 h-fit border\"\n      >\n        <ArrowUpIcon size={16} />\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AAEA;;;AARA;;;;;;;AAee,SAAS,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAkB;;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,cAAc,CAAC;QACnB,SAAS,EAAE,MAAM,CAAC,KAAK;IACzB;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,IAAI,MAAM,IAAI,IAAI;YAChB,OAAO,MAAM,IAAI;YACjB,SAAS;QACX;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB,IAAI,MAAM,IAAI,IAAI;gBAChB,OAAO,MAAM,IAAI;gBACjB,SAAS;YACX;QACF;IACF;IAEA,qBACE,6MAAC;QAAK,UAAU;QAAY,WAAU;;YACnC,SAAS,MAAM,KAAK,mBAAK,6MAAC,+JAAA,CAAA,UAAgB;;;;;0BAC3C,6MAAC,gIAAA,CAAA,WAAQ;gBACP,WAAW,CAAA,GAAA,sIAAA,CAAA,UAAE,AAAD,EACV;gBAEF,aAAY;gBACZ,OAAO;gBACP,UAAU;gBACV,WAAW;;;;;;0BAGb,6MAAC;gBAAW,UAAU,CAAC,MAAM,IAAI;;;;;;;;;;;;AAGvC;GAzCwB;KAAA;AA2CxB,SAAS,WAAW,EAAE,QAAQ,EAA0B;IACtD,qBACE,6MAAC;QAAI,WAAU;kBACb,cAAA,6MAAC,8HAAA,CAAA,SAAM;YACL,MAAK;YACL,UAAU;YACV,WAAU;sBAEV,cAAA,6MAAC,uHAAA,CAAA,cAAW;gBAAC,MAAM;;;;;;;;;;;;;;;;AAI3B;MAZS","debugId":null}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/Greeting.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\n\nexport default function Greeting() {\n  return (\n    <div\n      key=\"overview\"\n      className=\"max-w-3xl mx-auto md:mt-20 px-8 size-full flex flex-col justify-center\"\n    >\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: 10 }}\n        transition={{ delay: 0.5 }}\n        className=\"text-2xl font-semibold\"\n      >\n        Hello there üëã\n      </motion.div>\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: 10 }}\n        transition={{ delay: 0.6 }}\n        className=\"text-2xl text-zinc-500\"\n      >\n        Ready to decode what the stars say about your life?\n      </motion.div>\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: 10 }}\n        transition={{ delay: 0.7 }}\n        className=\"text-2xl text-zinc-500\"\n      >\n         I‚Äôve got your cosmic back!\n      </motion.div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,6MAAC;QAEC,WAAU;;0BAEV,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC1B,YAAY;oBAAE,OAAO;gBAAI;gBACzB,WAAU;0BACX;;;;;;0BAGD,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC1B,YAAY;oBAAE,OAAO;gBAAI;gBACzB,WAAU;0BACX;;;;;;0BAGD,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC1B,YAAY;oBAAE,OAAO;gBAAI;gBACzB,WAAU;0BACX;;;;;;;OA3BG;;;;;AAgCV;KAnCwB","debugId":null}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/code-block.tsx"],"sourcesContent":["'use client';\n\ninterface CodeBlockProps {\n  node: any;\n  inline: boolean;\n  className: string;\n  children: any;\n}\n\nexport function CodeBlock({\n  node,\n  inline,\n  className,\n  children,\n  ...props\n}: CodeBlockProps) {\n  if (!inline) {\n    return (\n      <div className=\"not-prose flex flex-col\">\n        <pre\n          {...props}\n          className={`text-sm w-full overflow-x-auto dark:bg-zinc-900 p-4 border border-zinc-200 dark:border-zinc-700 rounded-xl dark:text-zinc-50 text-zinc-900`}\n        >\n          <code className=\"whitespace-pre-wrap break-words\">{children}</code>\n        </pre>\n      </div>\n    );\n  } else {\n    return (\n      <code\n        className={`${className} text-sm bg-zinc-100 dark:bg-zinc-800 py-0.5 px-1 rounded-md`}\n        {...props}\n      >\n        {children}\n      </code>\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AASO,SAAS,UAAU,EACxB,IAAI,EACJ,MAAM,EACN,SAAS,EACT,QAAQ,EACR,GAAG,OACY;IACf,IAAI,CAAC,QAAQ;QACX,qBACE,6MAAC;YAAI,WAAU;sBACb,cAAA,6MAAC;gBACE,GAAG,KAAK;gBACT,WAAW,CAAC,0IAA0I,CAAC;0BAEvJ,cAAA,6MAAC;oBAAK,WAAU;8BAAmC;;;;;;;;;;;;;;;;IAI3D,OAAO;QACL,qBACE,6MAAC;YACC,WAAW,GAAG,UAAU,4DAA4D,CAAC;YACpF,GAAG,KAAK;sBAER;;;;;;IAGP;AACF;KA5BgB","debugId":null}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/markdown.tsx"],"sourcesContent":["import Link from 'next/link';\nimport React, { memo } from 'react';\nimport ReactMarkdown, { type Components } from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport { CodeBlock } from './code-block';\n\nconst components: Partial<Components> = {\n  // @ts-expect-error\n  code: CodeBlock,\n  pre: ({ children }) => <>{children}</>,\n  ol: ({ node, children, ...props }) => {\n    return (\n      <ol className=\"list-decimal list-outside ml-4\" {...props}>\n        {children}\n      </ol>\n    );\n  },\n  li: ({ node, children, ...props }) => {\n    return (\n      <li className=\"py-1\" {...props}>\n        {children}\n      </li>\n    );\n  },\n  ul: ({ node, children, ...props }) => {\n    return (\n      <ul className=\"list-decimal list-outside ml-4\" {...props}>\n        {children}\n      </ul>\n    );\n  },\n  strong: ({ node, children, ...props }) => {\n    return (\n      <span className=\"font-semibold\" {...props}>\n        {children}\n      </span>\n    );\n  },\n  a: ({ node, children, ...props }) => {\n    return (\n      // @ts-expect-error\n      <Link\n        className=\"text-blue-500 hover:underline\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        {...props}\n      >\n        {children}\n      </Link>\n    );\n  },\n  h1: ({ node, children, ...props }) => {\n    return (\n      <h1 className=\"text-3xl font-semibold mt-6 mb-2\" {...props}>\n        {children}\n      </h1>\n    );\n  },\n  h2: ({ node, children, ...props }) => {\n    return (\n      <h2 className=\"text-2xl font-semibold mt-6 mb-2\" {...props}>\n        {children}\n      </h2>\n    );\n  },\n  h3: ({ node, children, ...props }) => {\n    return (\n      <h3 className=\"text-xl font-semibold mt-6 mb-2\" {...props}>\n        {children}\n      </h3>\n    );\n  },\n  h4: ({ node, children, ...props }) => {\n    return (\n      <h4 className=\"text-lg font-semibold mt-6 mb-2\" {...props}>\n        {children}\n      </h4>\n    );\n  },\n  h5: ({ node, children, ...props }) => {\n    return (\n      <h5 className=\"text-base font-semibold mt-6 mb-2\" {...props}>\n        {children}\n      </h5>\n    );\n  },\n  h6: ({ node, children, ...props }) => {\n    return (\n      <h6 className=\"text-sm font-semibold mt-6 mb-2\" {...props}>\n        {children}\n      </h6>\n    );\n  },\n};\n\nconst remarkPlugins = [remarkGfm];\n\nconst NonMemoizedMarkdown = ({ children }: { children: string }) => {\n  return (\n    <ReactMarkdown remarkPlugins={remarkPlugins} components={components}>\n      {children}\n    </ReactMarkdown>\n  );\n};\n\nexport const Markdown = memo(\n  NonMemoizedMarkdown,\n  (prevProps, nextProps) => prevProps.children === nextProps.children,\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,aAAkC;IACtC,mBAAmB;IACnB,MAAM,+HAAA,CAAA,YAAS;IACf,KAAK,CAAC,EAAE,QAAQ,EAAE,iBAAK;sBAAG;;IAC1B,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAkC,GAAG,KAAK;sBACrD;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAQ,GAAG,KAAK;sBAC3B;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAkC,GAAG,KAAK;sBACrD;;;;;;IAGP;IACA,QAAQ,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QACnC,qBACE,6MAAC;YAAK,WAAU;YAAiB,GAAG,KAAK;sBACtC;;;;;;IAGP;IACA,GAAG,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC9B,OACE,mBAAmB;sBACnB,6MAAC,+JAAA,CAAA,UAAI;YACH,WAAU;YACV,QAAO;YACP,KAAI;YACH,GAAG,KAAK;sBAER;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAoC,GAAG,KAAK;sBACvD;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAoC,GAAG,KAAK;sBACvD;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAmC,GAAG,KAAK;sBACtD;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAmC,GAAG,KAAK;sBACtD;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAqC,GAAG,KAAK;sBACxD;;;;;;IAGP;IACA,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO;QAC/B,qBACE,6MAAC;YAAG,WAAU;YAAmC,GAAG,KAAK;sBACtD;;;;;;IAGP;AACF;AAEA,MAAM,gBAAgB;IAAC,gJAAA,CAAA,UAAS;CAAC;AAEjC,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAwB;IAC7D,qBACE,6MAAC,2LAAA,CAAA,UAAa;QAAC,eAAe;QAAe,YAAY;kBACtD;;;;;;AAGP;KANM;AAQC,MAAM,yBAAW,CAAA,GAAA,6KAAA,CAAA,OAAI,AAAD,EACzB,qBACA,CAAC,WAAW,YAAc,UAAU,QAAQ,KAAK,UAAU,QAAQ","debugId":null}},
    {"offset": {"line": 885, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/message-bubble.tsx"],"sourcesContent":["import { ChatMessage } from \"@/lib/types\";\nimport { cx } from \"class-variance-authority\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { SparklesIcon } from \"../icons\";\nimport { Markdown } from \"../markdown\";\n\ninterface MessageBubbleProps {\n  message: ChatMessage;\n  isLoading?: boolean;\n  onEdit?: (messageId: string, newText: string) => void;\n}\n\nexport default function MessageBubble({\n  message,\n  isLoading = false,\n  onEdit,\n}: MessageBubbleProps) {\n  const isUser = message.role === \"user\";\n  const isAssistant = message.role === \"assistant\";\n\n  const textContent = message.parts\n    .filter((part) => part.type === \"text\")\n    .map((part) => part.text)\n    .join(\" \");\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        data-testid={`message-${message.role}`}\n        className=\"w-full mx-auto max-w-3xl px-4 group/message\"\n        initial={{ y: 5, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        data-role={message.role}\n      >\n        <div\n          className={`flex gap-4 w-full group-data-[role=user]/message:ml-auto group-data-[role=user]/message:max-w-2xl ${\n            isUser ? \"ml-auto max-w-2xl\" : \"w-full\"\n          }`}\n        >\n          {isAssistant && (\n            <div className=\"size-8 flex items-center rounded-full justify-center ring-1 shrink-0 ring-border bg-background\">\n              <div className=\"translate-y-px\">\n                <SparklesIcon size={14} />\n              </div>\n            </div>\n          )}\n\n          {/* Message bubble */}\n          <div\n            data-testid=\"message-content\"\n            className={`flex flex-col gap-4 ${\n              isUser\n                ? \"bg-primary text-primary-foreground px-3 py-2 rounded-xl\"\n                : \"bg-muted px-3 py-2 rounded-xl\"\n            }`}\n          >\n            <Markdown>{textContent}</Markdown>\n          </div>\n\n          {/* Loading indicator */}\n          {/* {isLoading && message.role === \"assistant\" && (\n          <div className=\"flex items-center gap-2 text-muted-foreground text-sm\">\n          <div className=\"animate-spin\">‚è≥</div>\n          <span>Thinking...</span>\n          </div>\n          )} */}\n        </div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n\nexport const ThinkingMessage = () => {\n  const role = \"assistant\";\n\n  return (\n    <motion.div\n      data-testid=\"message-assistant-loading\"\n      className=\"w-full mx-auto max-w-3xl px-4 group/message min-h-96\"\n      initial={{ y: 5, opacity: 0 }}\n      animate={{ y: 0, opacity: 1, transition: { delay: 1 } }}\n      data-role={role}\n    >\n      <div\n        className={cx(\n          \"flex gap-4 group-data-[role=user]/message:px-3 w-full group-data-[role=user]/message:w-fit group-data-[role=user]/message:ml-auto group-data-[role=user]/message:max-w-2xl group-data-[role=user]/message:py-2 rounded-xl\",\n          {\n            \"group-data-[role=user]/message:bg-muted\": true,\n          }\n        )}\n      >\n        <div className=\"size-8 flex items-center rounded-full justify-center ring-1 shrink-0 ring-border\">\n          <SparklesIcon size={14} />\n        </div>\n\n        <div className=\"flex flex-col gap-2 w-full\">\n          <div className=\"flex flex-col gap-4 text-muted-foreground\">\n            Hmm...\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;AACA;;;;;;AAQe,SAAS,cAAc,EACpC,OAAO,EACP,YAAY,KAAK,EACjB,MAAM,EACa;IACnB,MAAM,SAAS,QAAQ,IAAI,KAAK;IAChC,MAAM,cAAc,QAAQ,IAAI,KAAK;IAErC,MAAM,cAAc,QAAQ,KAAK,CAC9B,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK,QAC/B,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,EACvB,IAAI,CAAC;IAER,qBACE,6MAAC,4LAAA,CAAA,kBAAe;kBACd,cAAA,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;YACT,eAAa,CAAC,QAAQ,EAAE,QAAQ,IAAI,EAAE;YACtC,WAAU;YACV,SAAS;gBAAE,GAAG;gBAAG,SAAS;YAAE;YAC5B,SAAS;gBAAE,GAAG;gBAAG,SAAS;YAAE;YAC5B,aAAW,QAAQ,IAAI;sBAEvB,cAAA,6MAAC;gBACC,WAAW,CAAC,kGAAkG,EAC5G,SAAS,sBAAsB,UAC/B;;oBAED,6BACC,6MAAC;wBAAI,WAAU;kCACb,cAAA,6MAAC;4BAAI,WAAU;sCACb,cAAA,6MAAC,uHAAA,CAAA,eAAY;gCAAC,MAAM;;;;;;;;;;;;;;;;kCAM1B,6MAAC;wBACC,eAAY;wBACZ,WAAW,CAAC,oBAAoB,EAC9B,SACI,4DACA,iCACJ;kCAEF,cAAA,6MAAC,0HAAA,CAAA,WAAQ;sCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcvB;KA1DwB;AA4DjB,MAAM,kBAAkB;IAC7B,MAAM,OAAO;IAEb,qBACE,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,eAAY;QACZ,WAAU;QACV,SAAS;YAAE,GAAG;YAAG,SAAS;QAAE;QAC5B,SAAS;YAAE,GAAG;YAAG,SAAS;YAAG,YAAY;gBAAE,OAAO;YAAE;QAAE;QACtD,aAAW;kBAEX,cAAA,6MAAC;YACC,WAAW,CAAA,GAAA,mKAAA,CAAA,KAAE,AAAD,EACV,6NACA;gBACE,2CAA2C;YAC7C;;8BAGF,6MAAC;oBAAI,WAAU;8BACb,cAAA,6MAAC,uHAAA,CAAA,eAAY;wBAAC,MAAM;;;;;;;;;;;8BAGtB,6MAAC;oBAAI,WAAU;8BACb,cAAA,6MAAC;wBAAI,WAAU;kCAA4C;;;;;;;;;;;;;;;;;;;;;;AAOrE;MA/Ba","debugId":null}},
    {"offset": {"line": 1050, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/messages.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ChatMessage } from \"@/lib/types\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useRef } from \"react\";\nimport Greeting from \"./Greeting\";\nimport MessageBubble, { ThinkingMessage } from \"./message-bubble\";\n\ninterface ConversationProps {\n  messages: ChatMessage[];\n  isLoading?: boolean;\n  onEdit?: (messageId: string, newText: string) => void;\n  className?: string;\n}\n\nexport default function Conversation({\n  messages = [], // Add default value here\n  isLoading = false,\n  onEdit,\n  className = \"\",\n}: ConversationProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const endRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (endRef.current) {\n      endRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [messages.length]); // Use messages.length instead of isLoading\n\n  return (\n    <div\n      ref={containerRef}\n      className={`flex flex-col min-w-0 gap-6 flex-1 overflow-y-auto pt-4 relative ${className}`}\n    >\n      {messages.length === 0 && <Greeting />}\n\n      {messages.map((message, index) => (\n        <motion.div\n          key={message.id}\n          initial={{ y: 5, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          transition={{ duration: 0.3 }}\n        >\n          <MessageBubble\n            message={message}\n            isLoading={isLoading && index === messages.length - 1}\n            onEdit={onEdit}\n          />\n        </motion.div>\n      ))}\n\n      {/* {isLoading && messages.length > 0 && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"w-full mx-auto max-w-3xl px-4\"\n        >\n          <div className=\"flex gap-4\">\n            <div className=\"size-8 flex items-center rounded-full justify-center ring-1 shrink-0 ring-border bg-background\">\n              <div className=\"animate-spin\">‚è≥</div>\n            </div>\n            <div className=\"flex flex-col gap-2\">\n              <div className=\"h-4 bg-muted rounded animate-pulse w-32\"></div>\n              <div className=\"h-4 bg-muted rounded animate-pulse w-48\"></div>\n              <div className=\"h-4 bg-muted rounded animate-pulse w-40\"></div>\n            </div>\n          </div>\n        </motion.div>\n      )} */}\n\n      {messages.length > 0 && messages[messages.length - 1].role === \"user\" && (\n        <ThinkingMessage />\n      )}\n\n      {/* Invisible element for auto-scroll */}\n      <div ref={endRef} className=\"shrink-0 min-w-[24px] min-h-[24px]\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAee,SAAS,aAAa,EACnC,WAAW,EAAE,EACb,YAAY,KAAK,EACjB,MAAM,EACN,YAAY,EAAE,EACI;;IAClB,MAAM,eAAe,CAAA,GAAA,6KAAA,CAAA,SAAM,AAAD,EAAkB;IAC5C,MAAM,SAAS,CAAA,GAAA,6KAAA,CAAA,SAAM,AAAD,EAAkB;IAEtC,iDAAiD;IACjD,CAAA,GAAA,6KAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,OAAO,OAAO,EAAE;gBAClB,OAAO,OAAO,CAAC,cAAc,CAAC;oBAAE,UAAU;gBAAS;YACrD;QACF;iCAAG;QAAC,SAAS,MAAM;KAAC,GAAG,2CAA2C;IAElE,qBACE,6MAAC;QACC,KAAK;QACL,WAAW,CAAC,iEAAiE,EAAE,WAAW;;YAEzF,SAAS,MAAM,KAAK,mBAAK,6MAAC,mJAAA,CAAA,UAAQ;;;;;YAElC,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,6MAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,GAAG;wBAAG,SAAS;oBAAE;oBAC5B,SAAS;wBAAE,GAAG;wBAAG,SAAS;oBAAE;oBAC5B,YAAY;wBAAE,UAAU;oBAAI;8BAE5B,cAAA,6MAAC,4JAAA,CAAA,UAAa;wBACZ,SAAS;wBACT,WAAW,aAAa,UAAU,SAAS,MAAM,GAAG;wBACpD,QAAQ;;;;;;mBARL,QAAQ,EAAE;;;;;YAgClB,SAAS,MAAM,GAAG,KAAK,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,IAAI,KAAK,wBAC7D,6MAAC,4JAAA,CAAA,kBAAe;;;;;0BAIlB,6MAAC;gBAAI,KAAK;gBAAQ,WAAU;;;;;;;;;;;;AAGlC;GAjEwB;KAAA","debugId":null}},
    {"offset": {"line": 1149, "column": 0}, "map": {"version":3,"sources":["file:///home/o__bit__o/projects/actum-agent/full-stack-chatbot/components/minimal-components/minimalChat.tsx"],"sourcesContent":["\"use client\";\n\nimport { DEMO_MESSAGES } from \"@/app/(chat)/hardcodedConversation\";\nimport { ChatMessage } from \"@/lib/types\";\nimport { useState } from \"react\";\nimport ChatHeader from \"./chat-header\";\nimport ChatInput from \"./input\";\nimport Conversation from \"./messages\";\n\nexport function Chat() {\n  const [messages, setMessages] = useState<ChatMessage[]>(DEMO_MESSAGES);\n  const [isLoading, setIsLoading] = useState(false);\n  const [input, setInput] = useState(\"\");\n\n  async function sendMessageHandler(userInput: string) {\n    const userMessage: ChatMessage = {\n      id: `user-${Date.now()}`,\n      role: \"user\",\n      parts: [{ type: \"text\", text: userInput }],\n    };\n\n    // Add user message immediately\n    setMessages((prev) => [...prev, userMessage]);\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('/api/gemini', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          id: `chat-${Date.now()}`,\n          message: userMessage,\n          selectedChatModel: 'gemini-pro',\n          selectedVisibilityType: 'public',\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      // Handle streaming response\n      const reader = response.body?.getReader();\n      const decoder = new TextDecoder();\n\n      if (!reader) {\n        throw new Error('No response body');\n      }\n\n      let assistantMessage: ChatMessage | null = null;\n\n      while (true) {\n        const { done, value } = await reader.read();\n        \n        if (done) break;\n\n        const chunk = decoder.decode(value);\n        const lines = chunk.split('\\n');\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            const data = line.slice(6); // Remove 'data: ' prefix\n            \n            if (data === '[DONE]') {\n              break;\n            }\n\n            try {\n              const parsed = JSON.parse(data);\n              \n              if (parsed.role === 'assistant') {\n                if (!assistantMessage) {\n                  // Create new assistant message\n                  assistantMessage = {\n                    id: parsed.id,\n                    role: 'assistant',\n                    parts: parsed.parts,\n                    metadata: parsed.metadata\n                  };\n                  setMessages((prev) => [...prev, assistantMessage!]);\n                } else {\n                  // Update existing assistant message\n                  assistantMessage.parts = parsed.parts;\n                  assistantMessage.metadata = parsed.metadata;\n                  setMessages((prev) => [...prev.slice(0, -1), assistantMessage!]);\n                }\n              }\n            } catch (e) {\n              console.error('Error parsing SSE data:', e);\n            }\n          }\n        }\n      }\n\n    } catch (error) {\n      console.error(\"Error getting bot response:\", error);\n      const errorMessage: ChatMessage = {\n        id: `error-${Date.now()}`,\n        role: \"assistant\",\n        parts: [{ type: \"text\", text: \"Sorry, I encountered an error. Please try again.\" }],\n      };\n      setMessages((prev) => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (input.trim() && !isLoading) {\n      sendMessageHandler(input);\n      setInput(\"\");\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setInput(e.target.value);\n  };\n\n  return (\n    <div className=\"flex flex-col min-w-0 h-dvh bg-background\">\n      <ChatHeader />\n      <Conversation \n        messages={messages} \n        isLoading={isLoading} \n      />\n      <div className=\"flex mx-auto px-4 bg-background pb-4 md:pb-6 gap-2 w-full md:max-w-3xl\">\n        <ChatInput \n          onSend={sendMessageHandler} \n          messages={messages}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}